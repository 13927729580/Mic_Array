###############################################################################
#
# IAR ANSI C/C++ Compiler V7.50.2.10312/W32 for ARM       28/Feb/2016  13:28:20
# Copyright 1999-2015 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\Src\DSP.c
#    Command line =  
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\Src\DSP.c
#        -D USE_HAL_DRIVER -D STM32F746xx -D USE_STM32746G_DISCO -D
#        USE_IOEXPANDER -D USE_USB_FS -lC
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\STM32F7\List
#        -lA
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\STM32F7\List
#        -o
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\STM32F7\Obj
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M7 -e --fpu=VFPv5_sp --dlib_config "D:\Program Files
#        (x86)\IAR Systems\Embedded Workbench 7.3\arm\INC\c\DLib_Config_Full.h"
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\Inc\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Drivers\CMSIS\Device\ST\STM32F7xx\Include\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Drivers\STM32F7xx_HAL_Driver\Inc\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Drivers\BSP\STM32746G-Discovery\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Drivers\BSP\Components\Common\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Utilities\Log\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Utilities\Fonts\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Utilities\CPU\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Middlewares\ST\STM32_USB_Device_Library\Core\Inc\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Middlewares\ST\STM32_USB_HOST_Library\Core\Inc\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Middlewares\ST\STM32_USB_HOST_Library\Class\MSC\Inc\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Middlewares\Third_Party\FatFs\src\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Middlewares\Third_Party\FatFs\src\drivers\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Middlewares\ST\STM32_Audio\Addons\PDM\
#        -I
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\..\..\..\..\..\..\Middlewares\ST\STM32_USB_Device_Library\Class\AUDIO\Inc\
#        -On --use_c++_inline --require_prototypes -I "D:\Program Files
#        (x86)\IAR Systems\Embedded Workbench 7.3\arm\CMSIS\Include\" -D
#        ARM_MATH_CM7
#    List file    =  
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\STM32F7\List\DSP.lst
#    Object file  =  
#        H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\EWARM\STM32F7\Obj\DSP.o
#
###############################################################################

H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\Src\DSP.c
      1          #include "DSP.h"

   \                                 In section .text, align 4
   \   __interwork __softfp int16_t ADD_S16(int16_t, int16_t)
   \                     ADD_S16: (+1)
   \   00000000   0x0002             MOVS     R2,R0
   \   00000002   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000004   0x2A00             CMP      R2,#+0
   \   00000006   0xD410             BMI.N    ??ADD_S16_0
   \   00000008   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   0000000A   0x2900             CMP      R1,#+0
   \   0000000C   0xD40D             BMI.N    ??ADD_S16_0
   \   0000000E   0xF647 0x73FF      MOVW     R3,#+32767
   \   00000012   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   00000014   0x1A5B             SUBS     R3,R3,R1
   \   00000016   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000018   0x4293             CMP      R3,R2
   \   0000001A   0xDA03             BGE.N    ??ADD_S16_1
   \   0000001C   0xF647 0x73FF      MOVW     R3,#+32767
   \   00000020   0x0018             MOVS     R0,R3
   \   00000022   0xE016             B.N      ??ADD_S16_2
   \                     ??ADD_S16_1: (+1)
   \   00000024   0x188B             ADDS     R3,R1,R2
   \   00000026   0x0018             MOVS     R0,R3
   \   00000028   0xE013             B.N      ??ADD_S16_2
   \                     ??ADD_S16_0: (+1)
   \   0000002A   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   0000002C   0x2A00             CMP      R2,#+0
   \   0000002E   0xD50E             BPL.N    ??ADD_S16_3
   \   00000030   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   00000032   0x2900             CMP      R1,#+0
   \   00000034   0xD50B             BPL.N    ??ADD_S16_3
   \   00000036   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000038   0x4B07             LDR.N    R3,??ADD_S16_4   ;; 0xffff8000
   \   0000003A   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   0000003C   0x1A5B             SUBS     R3,R3,R1
   \   0000003E   0x429A             CMP      R2,R3
   \   00000040   0xDA02             BGE.N    ??ADD_S16_5
   \   00000042   0x4B05             LDR.N    R3,??ADD_S16_4   ;; 0xffff8000
   \   00000044   0x0018             MOVS     R0,R3
   \   00000046   0xE004             B.N      ??ADD_S16_2
   \                     ??ADD_S16_5: (+1)
   \   00000048   0x188B             ADDS     R3,R1,R2
   \   0000004A   0x0018             MOVS     R0,R3
   \   0000004C   0xE001             B.N      ??ADD_S16_2
   \                     ??ADD_S16_3: (+1)
   \   0000004E   0x188B             ADDS     R3,R1,R2
   \   00000050   0x0018             MOVS     R0,R3
   \                     ??ADD_S16_2: (+1)
   \   00000052   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \   00000054   0x4770             BX       LR               ;; return
   \   00000056   0xBF00             Nop      
   \                     ??ADD_S16_4:
   \   00000058   0xFFFF8000         DC32     0xffff8000

   \                                 In section .text, align 4
   \   __interwork __softfp int16_t SUB_S16(int16_t, int16_t)
   \                     SUB_S16: (+1)
   \   00000000   0x0002             MOVS     R2,R0
   \   00000002   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000004   0x2A00             CMP      R2,#+0
   \   00000006   0xD410             BMI.N    ??SUB_S16_0
   \   00000008   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   0000000A   0x2900             CMP      R1,#+0
   \   0000000C   0xD50D             BPL.N    ??SUB_S16_0
   \   0000000E   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   00000010   0xF501 0x43FE      ADD      R3,R1,#+32512
   \   00000014   0x33FF             ADDS     R3,R3,#+255
   \   00000016   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000018   0x4293             CMP      R3,R2
   \   0000001A   0xDA03             BGE.N    ??SUB_S16_1
   \   0000001C   0xF647 0x73FF      MOVW     R3,#+32767
   \   00000020   0x0018             MOVS     R0,R3
   \   00000022   0xE016             B.N      ??SUB_S16_2
   \                     ??SUB_S16_1: (+1)
   \   00000024   0x1A53             SUBS     R3,R2,R1
   \   00000026   0x0018             MOVS     R0,R3
   \   00000028   0xE013             B.N      ??SUB_S16_2
   \                     ??SUB_S16_0: (+1)
   \   0000002A   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   0000002C   0x2A00             CMP      R2,#+0
   \   0000002E   0xD50E             BPL.N    ??SUB_S16_3
   \   00000030   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   00000032   0x2901             CMP      R1,#+1
   \   00000034   0xDB0B             BLT.N    ??SUB_S16_3
   \   00000036   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000038   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   0000003A   0xF5B1 0x4300      SUBS     R3,R1,#+32768
   \   0000003E   0x429A             CMP      R2,R3
   \   00000040   0xDA02             BGE.N    ??SUB_S16_4
   \   00000042   0x4B05             LDR.N    R3,??SUB_S16_5   ;; 0xffff8000
   \   00000044   0x0018             MOVS     R0,R3
   \   00000046   0xE004             B.N      ??SUB_S16_2
   \                     ??SUB_S16_4: (+1)
   \   00000048   0x1A53             SUBS     R3,R2,R1
   \   0000004A   0x0018             MOVS     R0,R3
   \   0000004C   0xE001             B.N      ??SUB_S16_2
   \                     ??SUB_S16_3: (+1)
   \   0000004E   0x1A53             SUBS     R3,R2,R1
   \   00000050   0x0018             MOVS     R0,R3
   \                     ??SUB_S16_2: (+1)
   \   00000052   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \   00000054   0x4770             BX       LR               ;; return
   \   00000056   0xBF00             Nop      
   \                     ??SUB_S16_5:
   \   00000058   0xFFFF8000         DC32     0xffff8000
      2          #include "main.h"
      3          #include <math.h>
      4          #include <stdlib.h>
      5          #include "arm_math.h"
      6          
      7          
      8          //#include <malloc.h>
      9          
     10          extern int16_t PreCalcBuff[129][256]; /* 1byte have 256 values */
     11          
     12          
     13          /* Manual calculation */
     14          //#define A0     10000
     15          //#define A1   (-19322)
     16          //#define A2   (9344)
     17          
     18          //#define B0   (6)
     19          //#define B1   2*B0
     20          //#define B2   B0
     21          
     22          //#define FLOATING_POINT
     23          
     24          
     25          /* ******************* MATLAB comuptation ***********************
     26          case 1: [b,a] = [b,a] = cheby2(2,60,1/32);
     27                 b	0.0010   -0.0020    0.0010
     28                 a	1.0000   -1.9938    0.9938
     29          case 2: [b,a] = butter(2,1/256); --> cut to 64Khz
     30                 b    3.73251989292944e-05	7.46503978585889e-05	3.73251989292944e-05
     31                 a    1	-1.98264541850412	0.982794719299834
     32          
     33          *****************************************************************/
     34          
     35          #ifdef FLOATING_POINT
     36          
     37            #define A0   (1)
     38            #define A1   (-1.9826)
     39            #define A2   0.9828
     40          
     41            #define B0   (3.7325e-05)                
     42            #define B1   (7.4650e-05)       
     43            #define B2   (3.7325e-05)                
     44          #else
     45            #define A0   (10000)
     46            #define A1   (-19322)
     47            #define A2   9322
     48          
     49            #define B0   (6)                
     50            #define B1   (12)       
     51            #define B2   (6) 
     52          
     53          #endif
     54          
     55          
     56          
     57          
     58          
     59          /*
     60          float Coef[129] = { 
     61          -0.02340  ,-0.06595  ,-0.02743  ,0.01425  ,-0.03335  ,-0.08782  ,-0.04168  ,0.01282  ,-0.05293  ,-0.13171 ,
     62          -0.06756  ,0.01115  ,-0.08598  ,-0.20323  ,-0.10855  ,0.00800  ,-0.13553  ,-0.30735  ,-0.16711  ,0.00362 ,
     63          -0.20339  ,-0.44812  ,-0.24434  ,0.00021  ,-0.28985  ,-0.62873  ,-0.33968  ,0.00256  ,-0.39350  ,-0.85181 ,
     64          -0.45087  ,0.01875  ,-0.51123  ,-1.12042  ,-0.57396  ,0.06130  ,-0.63834  ,-1.43986  ,-0.70359  ,0.14924 ,
     65          -0.76886  ,-1.82151  ,-0.83329  ,0.31292  ,-0.89598  ,-2.29113  ,-0.95603  ,0.60590  ,-1.01255  ,-2.90980 ,
     66          -1.06471  ,1.13962  ,-1.11170  ,-3.83936  ,-1.15280  ,2.21212  ,-1.18736  ,-5.63026  ,-1.21482  ,5.05728 ,
     67          -1.23477  ,-11.80705  ,-1.24686  ,30.58676  ,48.78572  ,30.58676  ,-1.24686  ,-11.80705  ,-1.23477  ,5.05728 ,
     68          -1.21482  ,-5.63026  ,-1.18736  ,2.21212  ,-1.15280  ,-3.83936  ,-1.11170  ,1.13962  ,-1.06471  ,-2.90980 ,
     69          -1.01255  ,0.60590  ,-0.95603  ,-2.29113  ,-0.89598  ,0.31292  ,-0.83329  ,-1.82151  ,-0.76886  ,0.14924 ,
     70          -0.70359  ,-1.43986  ,-0.63834  ,0.06130  ,-0.57396  ,-1.12042  ,-0.51123  ,0.01875  ,-0.45087  ,-0.85181 ,
     71          -0.39350  ,0.00256  ,-0.33968  ,-0.62873  ,-0.28985  ,0.00021  ,-0.24434  ,-0.44812  ,-0.20339  ,0.00362 ,
     72          -0.16711  ,-0.30735  ,-0.13553  ,0.00800  ,-0.10855  ,-0.20323  ,-0.08598  ,0.01115  ,-0.06756  ,-0.13171 ,
     73          -0.05293  ,0.01282  ,-0.04168  ,-0.08782  ,-0.03335  ,0.01425  ,-0.02743  ,-0.06595  ,-0.02340 };
     74          
     75          */
     76          /*
     77          int32_t Coef[129] = { 
     78          -234  ,-659  ,-274  ,142  ,-333  ,-878  ,-416  ,128  ,-529  ,-1317 ,
     79          -675  ,111  ,-859  ,-2032  ,-1085  ,80  ,-1355  ,-3073  ,-1671  ,36 ,
     80          -2033  ,-4481  ,-2443  ,2  ,-2898  ,-6287  ,-3396  ,25  ,-3935  ,-8518 ,
     81          -4508  ,187  ,-5112  ,-11204  ,-5739  ,612  ,-6383  ,-14398  ,-7035  ,1492 ,
     82          -7688  ,-18215  ,-8332  ,3129  ,-8959  ,-22911  ,-9560  ,6059  ,-10125  ,-29097 ,
     83          -10647  ,11396  ,-11117  ,-38393  ,-11527  ,22121  ,-11873  ,-56302  ,-12148  ,50572 ,
     84          -12347  ,-118070  ,-12468  ,305867  ,487857  ,305867  ,-12468  ,-118070  ,-12347  ,50572 ,
     85          -12148  ,-56302  ,-11873  ,22121  ,-11527  ,-38393  ,-11117  ,11396  ,-10647  ,-29097 ,
     86          -10125  ,6059  ,-9560  ,-22911  ,-8959  ,3129  ,-8332  ,-18215  ,-7688  ,1492 ,
     87          -7035  ,-14398  ,-6383  ,612  ,-5739  ,-11204  ,-5112  ,187  ,-4508  ,-8518 ,
     88          -3935  ,25  ,-3396  ,-6287  ,-2898  ,2  ,-2443  ,-4481  ,-2033  ,36 ,
     89          -1671  ,-3073  ,-1355  ,80  ,-1085  ,-2032  ,-859  ,111  ,-675  ,-1317 ,
     90          -529  ,128  ,-416  ,-878  ,-333  ,142  ,-274  ,-659  ,-234 };
     91          
     92          */
     93          
     94          
     95          
     96          /* 
     97          Library:
     98          https://github.com/piratfm/codec2_m4f/tree/master/lib
     99          */
    100          
    101          
    102          /*--------------EXTERN VARIABLES-----------------------------------------------------------------------------*/
    103          
    104          #if MAIN_CRSCORR
    105          extern arm_rfft_instance_q15 RealFFT_Ins, RealIFFT_Ins;
    106          #endif
    107          
    108          extern arm_cfft_radix4_instance_f32 SS1,SS2,SS3,SS4,ISS; 
    109          extern arm_rfft_instance_f32 S1,S2,S3,S4,IS;
    110          //extern arm_rfft_fast_instance_f32 S1,S2,S3,S4,IS;
    111          
    112          /*------------------------------------------------------------------------------------------------------------*/
    113          /*--------------------- VARIABLES-----------------------------------------------------------------------------*/
    114          

   \                                 In section .bss, align 4
    115          float bufferFFTSum[AUDIO_OUT_BUFFER_SIZE+100];  //storage the SUM in Furier domain
   \                     bufferFFTSum:
   \   00000000                      DS8 4496

   \                                 In section .bss, align 4
    116          float fbufferOut[AUDIO_OUT_BUFFER_SIZE+100];    //storage the output buffer in float type
   \                     fbufferOut:
   \   00000000                      DS8 4496

   \                                 In section .bss, align 4
    117          float fbuffer[AUDIO_OUT_BUFFER_SIZE+100];       //storage the input buffer in float type
   \                     fbuffer:
   \   00000000                      DS8 4496

   \                                 In section .bss, align 4
    118          Mic_Array_Data_f  DataFFT;                  //storage DFT's coefficients for microphones
   \                     DataFFT:
   \   00000000                      DS8 33088

   \                                 In section .bss, align 4
    119          uint32_t EnergySound;
   \                     EnergySound:
   \   00000000                      DS8 4
    120          /*------------------------------------------------------------------------------------------------------------*/
    121          /* Discreate Fourier Transform */

   \                                 In section .text, align 2, keep-with-next
    122          void DFT (float *x, float *Out, int N)
    123          {
   \                     DFT: (+1)
   \   00000000   0xE92D 0x47F0      PUSH     {R4-R10,LR}
   \   00000004   0x4682             MOV      R10,R0
   \   00000006   0x000C             MOVS     R4,R1
   \   00000008   0x0015             MOVS     R5,R2
    124          	int m,n;
    125          	
    126          	for(m=0; m<N; m++)  // update for e very bar 
   \   0000000A   0x2000             MOVS     R0,#+0
   \   0000000C   0x0006             MOVS     R6,R0
   \                     ??DFT_0: (+1)
   \   0000000E   0x42AE             CMP      R6,R5
   \   00000010   0xF280 0x8095      BGE.W    ??DFT_1
    127          	{
    128          		Out[2*m]  = Out[2*m+1] = 0;
   \   00000014   0x0070             LSLS     R0,R6,#+1
   \   00000016   0xEB14 0x0080      ADDS     R0,R4,R0, LSL #+2
   \   0000001A   0x2100             MOVS     R1,#+0
   \   0000001C   0x6041             STR      R1,[R0, #+4]
   \   0000001E   0xEB14 0x00C6      ADDS     R0,R4,R6, LSL #+3
   \   00000022   0x6840             LDR      R0,[R0, #+4]
   \   00000024   0xF844 0x0036      STR      R0,[R4, R6, LSL #+3]
    129          		
    130          		for (n  =0; n<N; n++) //
   \   00000028   0x2000             MOVS     R0,#+0
   \   0000002A   0x0007             MOVS     R7,R0
   \                     ??DFT_2: (+1)
   \   0000002C   0x42AF             CMP      R7,R5
   \   0000002E   0xF280 0x8084      BGE.W    ??DFT_3
    131          		{
    132          		    /* spectrum m: Real[m] = (Sum(x[n]*cos(2*PI*m*n/N)) , where n from 0 -->N    */
    133          			Out[2*m] += x[n]*arm_cos_f32(2*PI*(float)m*(float)n/(float)N);
   \   00000032   0xEE00 0x6A10      VMOV     S0,R6
   \   00000036   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   0000003A   0xEE10 0x0A10      VMOV     R0,S0
   \   0000003E   0x.... 0x....      BL       __aeabi_f2d
   \   00000042   0x.... 0x....      LDR.W    R2,??DataTable10  ;; 0x5a7ed197
   \   00000046   0x.... 0x....      LDR.W    R3,??DataTable10_1  ;; 0x401921fb
   \   0000004A   0x.... 0x....      BL       __aeabi_dmul
   \   0000004E   0x4680             MOV      R8,R0
   \   00000050   0x4689             MOV      R9,R1
   \   00000052   0xEE00 0x7A10      VMOV     S0,R7
   \   00000056   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   0000005A   0xEE10 0x0A10      VMOV     R0,S0
   \   0000005E   0x.... 0x....      BL       __aeabi_f2d
   \   00000062   0x4642             MOV      R2,R8
   \   00000064   0x464B             MOV      R3,R9
   \   00000066   0x.... 0x....      BL       __aeabi_dmul
   \   0000006A   0x4680             MOV      R8,R0
   \   0000006C   0x4689             MOV      R9,R1
   \   0000006E   0xEE00 0x5A10      VMOV     S0,R5
   \   00000072   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000076   0xEE10 0x0A10      VMOV     R0,S0
   \   0000007A   0x.... 0x....      BL       __aeabi_f2d
   \   0000007E   0x0002             MOVS     R2,R0
   \   00000080   0x000B             MOVS     R3,R1
   \   00000082   0x4640             MOV      R0,R8
   \   00000084   0x4649             MOV      R1,R9
   \   00000086   0x.... 0x....      BL       __aeabi_ddiv
   \   0000008A   0x.... 0x....      BL       __aeabi_d2f
   \   0000008E   0xEE00 0x0A10      VMOV     S0,R0
   \   00000092   0x.... 0x....      BL       arm_cos_f32
   \   00000096   0xEB1A 0x0087      ADDS     R0,R10,R7, LSL #+2
   \   0000009A   0xEDD0 0x0A00      VLDR     S1,[R0, #0]
   \   0000009E   0xEB14 0x00C6      ADDS     R0,R4,R6, LSL #+3
   \   000000A2   0xED90 0x1A00      VLDR     S2,[R0, #0]
   \   000000A6   0xEE00 0x1A80      VMLA.F32 S2,S1,S0
   \   000000AA   0xEB14 0x00C6      ADDS     R0,R4,R6, LSL #+3
   \   000000AE   0xED80 0x1A00      VSTR     S2,[R0, #0]
    134          
    135                      /* specstrum n: Imagine[m] = (Sum(x[n]*sin(2*PI*m*n/N) ,  where n from 0 -->N */			
    136          			Out[2*m+1] -= x[n]*arm_sin_f32(2*PI*(float)m*(float)n/(float)N);
   \   000000B2   0xEE00 0x6A10      VMOV     S0,R6
   \   000000B6   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   000000BA   0xEE10 0x0A10      VMOV     R0,S0
   \   000000BE   0x.... 0x....      BL       __aeabi_f2d
   \   000000C2   0x.... 0x....      LDR.W    R2,??DataTable10  ;; 0x5a7ed197
   \   000000C6   0x.... 0x....      LDR.W    R3,??DataTable10_1  ;; 0x401921fb
   \   000000CA   0x.... 0x....      BL       __aeabi_dmul
   \   000000CE   0x4680             MOV      R8,R0
   \   000000D0   0x4689             MOV      R9,R1
   \   000000D2   0xEE00 0x7A10      VMOV     S0,R7
   \   000000D6   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   000000DA   0xEE10 0x0A10      VMOV     R0,S0
   \   000000DE   0x.... 0x....      BL       __aeabi_f2d
   \   000000E2   0x4642             MOV      R2,R8
   \   000000E4   0x464B             MOV      R3,R9
   \   000000E6   0x.... 0x....      BL       __aeabi_dmul
   \   000000EA   0x4680             MOV      R8,R0
   \   000000EC   0x4689             MOV      R9,R1
   \   000000EE   0xEE00 0x5A10      VMOV     S0,R5
   \   000000F2   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   000000F6   0xEE10 0x0A10      VMOV     R0,S0
   \   000000FA   0x.... 0x....      BL       __aeabi_f2d
   \   000000FE   0x0002             MOVS     R2,R0
   \   00000100   0x000B             MOVS     R3,R1
   \   00000102   0x4640             MOV      R0,R8
   \   00000104   0x4649             MOV      R1,R9
   \   00000106   0x.... 0x....      BL       __aeabi_ddiv
   \   0000010A   0x.... 0x....      BL       __aeabi_d2f
   \   0000010E   0xEE00 0x0A10      VMOV     S0,R0
   \   00000112   0x.... 0x....      BL       arm_sin_f32
   \   00000116   0x0070             LSLS     R0,R6,#+1
   \   00000118   0xEB14 0x0080      ADDS     R0,R4,R0, LSL #+2
   \   0000011C   0xEB1A 0x0187      ADDS     R1,R10,R7, LSL #+2
   \   00000120   0xEDD1 0x0A00      VLDR     S1,[R1, #0]
   \   00000124   0x0071             LSLS     R1,R6,#+1
   \   00000126   0xEB14 0x0181      ADDS     R1,R4,R1, LSL #+2
   \   0000012A   0xED91 0x1A01      VLDR     S2,[R1, #+4]
   \   0000012E   0xEE00 0x1AC0      VMLS.F32 S2,S1,S0
   \   00000132   0xED80 0x1A01      VSTR     S2,[R0, #+4]
    137          		}
   \   00000136   0x1C7F             ADDS     R7,R7,#+1
   \   00000138   0xE778             B.N      ??DFT_2
    138          
    139          	}
   \                     ??DFT_3: (+1)
   \   0000013A   0x1C76             ADDS     R6,R6,#+1
   \   0000013C   0xE767             B.N      ??DFT_0
    140          }
   \                     ??DFT_1: (+1)
   \   0000013E   0xE8BD 0x87F0      POP      {R4-R10,PC}      ;; return
    141          
    142          /* revert of Discrete Fourier Transform */

   \                                 In section .text, align 4, keep-with-next
    143          void rDFT(int N, int cycles, float *IN, float *out)
    144          {
   \                     rDFT: (+1)
   \   00000000   0xE92D 0x4FF8      PUSH     {R3-R11,LR}
   \   00000004   0xED2D 0x8B02      VPUSH    {D8}
   \   00000008   0x4680             MOV      R8,R0
   \   0000000A   0x468A             MOV      R10,R1
   \   0000000C   0x4691             MOV      R9,R2
   \   0000000E   0x469B             MOV      R11,R3
    145              int n,m;
    146          	
    147              for (n= 0; n < N; n++)
   \   00000010   0x2000             MOVS     R0,#+0
   \   00000012   0x0006             MOVS     R6,R0
   \                     ??rDFT_0: (+1)
   \   00000014   0x4546             CMP      R6,R8
   \   00000016   0xF280 0x8127      BGE.W    ??rDFT_1
    148          	{
    149                  float xOfn, xOfn_m; // temporary variable for the imagine and real 
    150          		
    151          		xOfn = xOfn_m = 0;
   \   0000001A   0xED9F 0x....      VLDR.W   S0,??DataTable2  ;; 0x0
   \   0000001E   0xEEB0 0x8A40      VMOV.F32 S16,S0
   \   00000022   0xEEF0 0x8A48      VMOV.F32 S17,S16
    152          
    153          		for (m = 0; m < N; m++)
   \   00000026   0x2000             MOVS     R0,#+0
   \   00000028   0x0007             MOVS     R7,R0
   \                     ??rDFT_2: (+1)
   \   0000002A   0x4547             CMP      R7,R8
   \   0000002C   0xF280 0x8108      BGE.W    ??rDFT_3
    154          		{
    155          		    xOfn += IN[2*m]*arm_cos_f32(2*PI*cycles*(float)m*(float)n/(float)N);
   \   00000030   0x4650             MOV      R0,R10
   \   00000032   0x.... 0x....      BL       __aeabi_i2d
   \   00000036   0x.... 0x....      LDR.W    R2,??DataTable10  ;; 0x5a7ed197
   \   0000003A   0x.... 0x....      LDR.W    R3,??DataTable10_1  ;; 0x401921fb
   \   0000003E   0x.... 0x....      BL       __aeabi_dmul
   \   00000042   0x0004             MOVS     R4,R0
   \   00000044   0x000D             MOVS     R5,R1
   \   00000046   0xEE00 0x7A10      VMOV     S0,R7
   \   0000004A   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   0000004E   0xEE10 0x0A10      VMOV     R0,S0
   \   00000052   0x.... 0x....      BL       __aeabi_f2d
   \   00000056   0x0022             MOVS     R2,R4
   \   00000058   0x002B             MOVS     R3,R5
   \   0000005A   0x.... 0x....      BL       __aeabi_dmul
   \   0000005E   0x0004             MOVS     R4,R0
   \   00000060   0x000D             MOVS     R5,R1
   \   00000062   0xEE00 0x6A10      VMOV     S0,R6
   \   00000066   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   0000006A   0xEE10 0x0A10      VMOV     R0,S0
   \   0000006E   0x.... 0x....      BL       __aeabi_f2d
   \   00000072   0x0022             MOVS     R2,R4
   \   00000074   0x002B             MOVS     R3,R5
   \   00000076   0x.... 0x....      BL       __aeabi_dmul
   \   0000007A   0x0004             MOVS     R4,R0
   \   0000007C   0x000D             MOVS     R5,R1
   \   0000007E   0xEE00 0x8A10      VMOV     S0,R8
   \   00000082   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000086   0xEE10 0x0A10      VMOV     R0,S0
   \   0000008A   0x.... 0x....      BL       __aeabi_f2d
   \   0000008E   0x0002             MOVS     R2,R0
   \   00000090   0x000B             MOVS     R3,R1
   \   00000092   0x0020             MOVS     R0,R4
   \   00000094   0x0029             MOVS     R1,R5
   \   00000096   0x.... 0x....      BL       __aeabi_ddiv
   \   0000009A   0x.... 0x....      BL       __aeabi_d2f
   \   0000009E   0xEE00 0x0A10      VMOV     S0,R0
   \   000000A2   0x.... 0x....      BL       arm_cos_f32
   \   000000A6   0xEB19 0x00C7      ADDS     R0,R9,R7, LSL #+3
   \   000000AA   0xEDD0 0x0A00      VLDR     S1,[R0, #0]
   \   000000AE   0xEE40 0x8A80      VMLA.F32 S17,S1,S0
    156          		    xOfn -= IN[2*m+1]*arm_sin_f32(2*PI*cycles*(float)m*(float)n/(float)N);
   \   000000B2   0x4650             MOV      R0,R10
   \   000000B4   0x.... 0x....      BL       __aeabi_i2d
   \   000000B8   0x.... 0x....      LDR.W    R2,??DataTable10  ;; 0x5a7ed197
   \   000000BC   0x.... 0x....      LDR.W    R3,??DataTable10_1  ;; 0x401921fb
   \   000000C0   0x.... 0x....      BL       __aeabi_dmul
   \   000000C4   0x0004             MOVS     R4,R0
   \   000000C6   0x000D             MOVS     R5,R1
   \   000000C8   0xEE00 0x7A10      VMOV     S0,R7
   \   000000CC   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   000000D0   0xEE10 0x0A10      VMOV     R0,S0
   \   000000D4   0x.... 0x....      BL       __aeabi_f2d
   \   000000D8   0x0022             MOVS     R2,R4
   \   000000DA   0x002B             MOVS     R3,R5
   \   000000DC   0x.... 0x....      BL       __aeabi_dmul
   \   000000E0   0x0004             MOVS     R4,R0
   \   000000E2   0x000D             MOVS     R5,R1
   \   000000E4   0xEE00 0x6A10      VMOV     S0,R6
   \   000000E8   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   000000EC   0xEE10 0x0A10      VMOV     R0,S0
   \   000000F0   0x.... 0x....      BL       __aeabi_f2d
   \   000000F4   0x0022             MOVS     R2,R4
   \   000000F6   0x002B             MOVS     R3,R5
   \   000000F8   0x.... 0x....      BL       __aeabi_dmul
   \   000000FC   0x0004             MOVS     R4,R0
   \   000000FE   0x000D             MOVS     R5,R1
   \   00000100   0xEE00 0x8A10      VMOV     S0,R8
   \   00000104   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000108   0xEE10 0x0A10      VMOV     R0,S0
   \   0000010C   0x.... 0x....      BL       __aeabi_f2d
   \   00000110   0x0002             MOVS     R2,R0
   \   00000112   0x000B             MOVS     R3,R1
   \   00000114   0x0020             MOVS     R0,R4
   \   00000116   0x0029             MOVS     R1,R5
   \   00000118   0x.... 0x....      BL       __aeabi_ddiv
   \   0000011C   0x.... 0x....      BL       __aeabi_d2f
   \   00000120   0xEE00 0x0A10      VMOV     S0,R0
   \   00000124   0x.... 0x....      BL       arm_sin_f32
   \   00000128   0x0078             LSLS     R0,R7,#+1
   \   0000012A   0xEB19 0x0080      ADDS     R0,R9,R0, LSL #+2
   \   0000012E   0xEDD0 0x0A01      VLDR     S1,[R0, #+4]
   \   00000132   0xEE40 0x8AC0      VMLS.F32 S17,S1,S0
    157          
    158                              xOfn_m += IN[2*m]*arm_cos_f32(2*PI*cycles*(float)m*(float)n/(float)N);
   \   00000136   0x4650             MOV      R0,R10
   \   00000138   0x.... 0x....      BL       __aeabi_i2d
   \   0000013C   0x.... 0x....      LDR.W    R2,??DataTable10  ;; 0x5a7ed197
   \   00000140   0x.... 0x....      LDR.W    R3,??DataTable10_1  ;; 0x401921fb
   \   00000144   0x.... 0x....      BL       __aeabi_dmul
   \   00000148   0x0004             MOVS     R4,R0
   \   0000014A   0x000D             MOVS     R5,R1
   \   0000014C   0xEE00 0x7A10      VMOV     S0,R7
   \   00000150   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000154   0xEE10 0x0A10      VMOV     R0,S0
   \   00000158   0x.... 0x....      BL       __aeabi_f2d
   \   0000015C   0x0022             MOVS     R2,R4
   \   0000015E   0x002B             MOVS     R3,R5
   \   00000160   0x.... 0x....      BL       __aeabi_dmul
   \   00000164   0x0004             MOVS     R4,R0
   \   00000166   0x000D             MOVS     R5,R1
   \   00000168   0xEE00 0x6A10      VMOV     S0,R6
   \   0000016C   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000170   0xEE10 0x0A10      VMOV     R0,S0
   \   00000174   0x.... 0x....      BL       __aeabi_f2d
   \   00000178   0x0022             MOVS     R2,R4
   \   0000017A   0x002B             MOVS     R3,R5
   \   0000017C   0x.... 0x....      BL       __aeabi_dmul
   \   00000180   0x0004             MOVS     R4,R0
   \   00000182   0x000D             MOVS     R5,R1
   \   00000184   0xEE00 0x8A10      VMOV     S0,R8
   \   00000188   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   0000018C   0xEE10 0x0A10      VMOV     R0,S0
   \   00000190   0x.... 0x....      BL       __aeabi_f2d
   \   00000194   0x0002             MOVS     R2,R0
   \   00000196   0x000B             MOVS     R3,R1
   \   00000198   0x0020             MOVS     R0,R4
   \   0000019A   0x0029             MOVS     R1,R5
   \   0000019C   0x.... 0x....      BL       __aeabi_ddiv
   \   000001A0   0x.... 0x....      BL       __aeabi_d2f
   \   000001A4   0xEE00 0x0A10      VMOV     S0,R0
   \   000001A8   0x.... 0x....      BL       arm_cos_f32
   \   000001AC   0xEB19 0x00C7      ADDS     R0,R9,R7, LSL #+3
   \   000001B0   0xEDD0 0x0A00      VLDR     S1,[R0, #0]
   \   000001B4   0xEE00 0x8A80      VMLA.F32 S16,S1,S0
    159                              xOfn_m += IN[2*m+1]*arm_sin_f32(2*PI*cycles*(float)m*(float)n/(float)N);
   \   000001B8   0x4650             MOV      R0,R10
   \   000001BA   0x.... 0x....      BL       __aeabi_i2d
   \   000001BE   0x.... 0x....      LDR.W    R2,??DataTable10  ;; 0x5a7ed197
   \   000001C2   0x.... 0x....      LDR.W    R3,??DataTable10_1  ;; 0x401921fb
   \   000001C6   0x.... 0x....      BL       __aeabi_dmul
   \   000001CA   0x0004             MOVS     R4,R0
   \   000001CC   0x000D             MOVS     R5,R1
   \   000001CE   0xEE00 0x7A10      VMOV     S0,R7
   \   000001D2   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   000001D6   0xEE10 0x0A10      VMOV     R0,S0
   \   000001DA   0x.... 0x....      BL       __aeabi_f2d
   \   000001DE   0x0022             MOVS     R2,R4
   \   000001E0   0x002B             MOVS     R3,R5
   \   000001E2   0x.... 0x....      BL       __aeabi_dmul
   \   000001E6   0x0004             MOVS     R4,R0
   \   000001E8   0x000D             MOVS     R5,R1
   \   000001EA   0xEE00 0x6A10      VMOV     S0,R6
   \   000001EE   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   000001F2   0xEE10 0x0A10      VMOV     R0,S0
   \   000001F6   0x.... 0x....      BL       __aeabi_f2d
   \   000001FA   0x0022             MOVS     R2,R4
   \   000001FC   0x002B             MOVS     R3,R5
   \   000001FE   0x.... 0x....      BL       __aeabi_dmul
   \   00000202   0x0004             MOVS     R4,R0
   \   00000204   0x000D             MOVS     R5,R1
   \   00000206   0xEE00 0x8A10      VMOV     S0,R8
   \   0000020A   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   0000020E   0xEE10 0x0A10      VMOV     R0,S0
   \   00000212   0x.... 0x....      BL       __aeabi_f2d
   \   00000216   0x0002             MOVS     R2,R0
   \   00000218   0x000B             MOVS     R3,R1
   \   0000021A   0x0020             MOVS     R0,R4
   \   0000021C   0x0029             MOVS     R1,R5
   \   0000021E   0x.... 0x....      BL       __aeabi_ddiv
   \   00000222   0x.... 0x....      BL       __aeabi_d2f
   \   00000226   0xEE00 0x0A10      VMOV     S0,R0
   \   0000022A   0x.... 0x....      BL       arm_sin_f32
   \   0000022E   0x0078             LSLS     R0,R7,#+1
   \   00000230   0xEB19 0x0080      ADDS     R0,R9,R0, LSL #+2
   \   00000234   0xEDD0 0x0A01      VLDR     S1,[R0, #+4]
   \   00000238   0xEE00 0x8A80      VMLA.F32 S16,S1,S0
    160          		}
   \   0000023C   0x1C7F             ADDS     R7,R7,#+1
   \   0000023E   0xE6F4             B.N      ??rDFT_2
    161          
    162          	    xOfn /= N;
   \                     ??rDFT_3: (+1)
   \   00000240   0xEE00 0x8A10      VMOV     S0,R8
   \   00000244   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000248   0xEEC8 0x8A80      VDIV.F32 S17,S17,S0
    163          		xOfn_m /= N;
   \   0000024C   0xEE00 0x8A10      VMOV     S0,R8
   \   00000250   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000254   0xEE88 0x8A00      VDIV.F32 S16,S16,S0
    164          
    165                  out[n] = xOfn + xOfn_m; 
   \   00000258   0xEE38 0x0A88      VADD.F32 S0,S17,S16
   \   0000025C   0xEB1B 0x0086      ADDS     R0,R11,R6, LSL #+2
   \   00000260   0xED80 0x0A00      VSTR     S0,[R0, #0]
    166          
    167          	}
   \   00000264   0x1C76             ADDS     R6,R6,#+1
   \   00000266   0xE6D5             B.N      ??rDFT_0
    168          }
   \                     ??rDFT_1: (+1)
   \   00000268   0xECBD 0x8B02      VPOP     {D8}
   \   0000026C   0xE8BD 0x8FF1      POP      {R0,R4-R11,PC}   ;; return
    169          
    170          /****************************** IIR filter *****************************************
    171          *a : point to a coefficiences
    172          AN: Number of a coefficiences
    173          *b : point to b coefficiences
    174          BN: Number of b coefficences
    175          *x: storage input and history of inputs
    176          *y: storage output and history of outpus
    177          index: position value in array of input and output
    178          
    179          ***********************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    180          void iirFilter(float* a, int AN, float* b, int BN, float* x, float* y, int index)
    181          {
   \                     iirFilter: (+1)
   \   00000000   0xB5F0             PUSH     {R4-R7,LR}
   \   00000002   0x9C05             LDR      R4,[SP, #+20]
   \   00000004   0x9D06             LDR      R5,[SP, #+24]
   \   00000006   0x9E07             LDR      R6,[SP, #+28]
    182              int loop;
    183          
    184              *(y+index) = 0;
   \   00000008   0xF05F 0x0C00      MOVS     R12,#+0
   \   0000000C   0xF845 0xC026      STR      R12,[R5, R6, LSL #+2]
    185              
    186              for (loop =0; loop < AN; loop++)
   \   00000010   0xF05F 0x0C00      MOVS     R12,#+0
   \   00000014   0x4667             MOV      R7,R12
   \                     ??iirFilter_0: (+1)
   \   00000016   0x428F             CMP      R7,R1
   \   00000018   0xDA1C             BGE.N    ??iirFilter_1
    187              {
    188                  if ((index -loop) >= 0)
   \   0000001A   0xEBB6 0x0C07      SUBS     R12,R6,R7
   \   0000001E   0xF1BC 0x0F00      CMP      R12,#+0
   \   00000022   0xD415             BMI.N    ??iirFilter_2
    189          		{
    190          		    *(y+index) += *(a+loop)**(x + index - loop);
   \   00000024   0xEB10 0x0C87      ADDS     R12,R0,R7, LSL #+2
   \   00000028   0xED9C 0x0A00      VLDR     S0,[R12, #0]
   \   0000002C   0xEB14 0x0C86      ADDS     R12,R4,R6, LSL #+2
   \   00000030   0xF07F 0x0E03      MVNS     LR,#+3
   \   00000034   0xFB0E 0xCC07      MLA      R12,LR,R7,R12
   \   00000038   0xEDDC 0x0A00      VLDR     S1,[R12, #0]
   \   0000003C   0xEB15 0x0C86      ADDS     R12,R5,R6, LSL #+2
   \   00000040   0xED9C 0x1A00      VLDR     S2,[R12, #0]
   \   00000044   0xEE00 0x1A20      VMLA.F32 S2,S0,S1
   \   00000048   0xEB15 0x0C86      ADDS     R12,R5,R6, LSL #+2
   \   0000004C   0xED8C 0x1A00      VSTR     S2,[R12, #0]
    191          		}
    192              }
   \                     ??iirFilter_2: (+1)
   \   00000050   0x1C7F             ADDS     R7,R7,#+1
   \   00000052   0xE7E0             B.N      ??iirFilter_0
    193          
    194              for (loop = 1; loop <= BN; loop++)
   \                     ??iirFilter_1: (+1)
   \   00000054   0xF05F 0x0C01      MOVS     R12,#+1
   \   00000058   0x4667             MOV      R7,R12
   \                     ??iirFilter_3: (+1)
   \   0000005A   0x42BB             CMP      R3,R7
   \   0000005C   0xDB1E             BLT.N    ??iirFilter_4
    195              {
    196                  if ((index-loop) >=0)
   \   0000005E   0xEBB6 0x0C07      SUBS     R12,R6,R7
   \   00000062   0xF1BC 0x0F00      CMP      R12,#+0
   \   00000066   0xD417             BMI.N    ??iirFilter_5
    197          		{
    198          		    *(y + index) +=  *(b + loop - 1)**(y+index-loop);
   \   00000068   0xEB12 0x0C87      ADDS     R12,R2,R7, LSL #+2
   \   0000006C   0xF1BC 0x0C04      SUBS     R12,R12,#+4
   \   00000070   0xED9C 0x0A00      VLDR     S0,[R12, #0]
   \   00000074   0xEB15 0x0C86      ADDS     R12,R5,R6, LSL #+2
   \   00000078   0xF07F 0x0E03      MVNS     LR,#+3
   \   0000007C   0xFB0E 0xCC07      MLA      R12,LR,R7,R12
   \   00000080   0xEDDC 0x0A00      VLDR     S1,[R12, #0]
   \   00000084   0xEB15 0x0C86      ADDS     R12,R5,R6, LSL #+2
   \   00000088   0xED9C 0x1A00      VLDR     S2,[R12, #0]
   \   0000008C   0xEE00 0x1A20      VMLA.F32 S2,S0,S1
   \   00000090   0xEB15 0x0C86      ADDS     R12,R5,R6, LSL #+2
   \   00000094   0xED8C 0x1A00      VSTR     S2,[R12, #0]
    199          		}
    200              }	
   \                     ??iirFilter_5: (+1)
   \   00000098   0x1C7F             ADDS     R7,R7,#+1
   \   0000009A   0xE7DE             B.N      ??iirFilter_3
    201          }
   \                     ??iirFilter_4: (+1)
   \   0000009C   0xBDF0             POP      {R4-R7,PC}       ;; return
    202          
    203          /** First Oder IIR Lowpass filter 
    204          *Input : input array
    205          *Output: output array
    206          size: number of elements need to update
    207          K: T/dT
    208             T is time constance
    209             dT duration of sampleing 
    210             K= 64
    211          
    212          *****************************8*/
    213          
    214          

   \                                 In section .text, align 2, keep-with-next
    215          void LowPass(int16_t *Input, int16_t *Output, uint16_t Size, uint16_t K)
    216          {
   \                     LowPass: (+1)
   \   00000000   0xE92D 0x43F8      PUSH     {R3-R9,LR}
   \   00000004   0x0004             MOVS     R4,R0
   \   00000006   0x000D             MOVS     R5,R1
   \   00000008   0x0016             MOVS     R6,R2
   \   0000000A   0x001F             MOVS     R7,R3
    217              
    218              static	int16_t Out_Old;
    219          	int16_t Out=0;
   \   0000000C   0xF05F 0x0800      MOVS     R8,#+0
    220          
    221          	for(uint16_t i=0; i<Size; i++)
   \   00000010   0xF05F 0x0900      MOVS     R9,#+0
   \                     ??LowPass_0: (+1)
   \   00000014   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000018   0xB2B6             UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   0000001A   0x45B1             CMP      R9,R6
   \   0000001C   0xD21C             BCS.N    ??LowPass_1
    222          	{
    223                  Out = ADD_S16(Out_Old,SUB_S16(*(Input+i), Out_Old)/K);
   \   0000001E   0x.... 0x....      LDR.W    R0,??DataTable11
   \   00000022   0xF9B0 0x1000      LDRSH    R1,[R0, #+0]
   \   00000026   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   0000002A   0xF934 0x0019      LDRSH    R0,[R4, R9, LSL #+1]
   \   0000002E   0x.... 0x....      BL       SUB_S16
   \   00000032   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \   00000034   0xB2BF             UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   00000036   0xFB90 0xF1F7      SDIV     R1,R0,R7
   \   0000003A   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   0000003C   0x.... 0x....      LDR.W    R0,??DataTable11
   \   00000040   0xF9B0 0x0000      LDRSH    R0,[R0, #+0]
   \   00000044   0x.... 0x....      BL       ADD_S16
   \   00000048   0x4680             MOV      R8,R0
    224          		Out_Old = Out;
   \   0000004A   0x.... 0x....      LDR.W    R0,??DataTable11
   \   0000004E   0xF8A0 0x8000      STRH     R8,[R0, #+0]
    225          	}
   \   00000052   0xF119 0x0901      ADDS     R9,R9,#+1
   \   00000056   0xE7DD             B.N      ??LowPass_0
    226          
    227          	*Output = 30*Out;
   \                     ??LowPass_1: (+1)
   \   00000058   0x201E             MOVS     R0,#+30
   \   0000005A   0xFB18 0xF000      SMULBB   R0,R8,R0
   \   0000005E   0x8028             STRH     R0,[R5, #+0]
    228          
    229          }
   \   00000060   0xE8BD 0x83F1      POP      {R0,R4-R9,PC}    ;; return

   \                                 In section .bss, align 2
   \                     ??Out_Old:
   \   00000000                      DS8 2
    230          
    231          #ifdef FLOATING_POINT
    232          void LowPass2ndOder(int16_t *Input, int16_t *Output, uint16_t Size)
    233          {
    234              double Out=0;
    235          	static  int16_t InOld, InOld1;
    236          	static	double Out_Old, Out_Old1;
    237                  uint16_t i;
    238          	 
    239              for(i=0; i<Size; i++)
    240          	{
    241          
    242           	
    243          	  if (i>0)
    244          	  {
    245          	    InOld1 = InOld;
    246          	  	InOld = Input[i-1];
    247          	  }
    248          	  	   
    249          
    250          	  	Out = (B0*Input[i]) + (B1*InOld) + (B2*InOld1)-(A1*Out_Old) - (A2*Out_Old1);
    251          	  
    252          	    Out_Old1 = Out_Old;
    253          		Out_Old = Out;
    254          	}
    255          
    256          	*Output = (int16_t)Out;
    257          
    258              InOld1 = InOld;
    259          	InOld = Input[i-1];
    260          
    261          
    262          
    263          }
    264          
    265          #else

   \                                 In section .text, align 2, keep-with-next
    266          void LowPass2ndOder(int16_t *Input, int16_t *Output, uint16_t Size)
    267          {
   \                     LowPass2ndOder: (+1)
   \   00000000   0xB4F0             PUSH     {R4-R7}
    268              int16_t Out=0;
   \   00000002   0x2300             MOVS     R3,#+0
    269          	static  int16_t InOld, InOld1;
    270          	static	int16_t Out_Old, Out_Old1;
    271                  uint16_t i;
    272          	 
    273              for(i=0; i<Size; i++)
   \   00000004   0x2500             MOVS     R5,#+0
   \   00000006   0x002C             MOVS     R4,R5
   \                     ??LowPass2ndOder_0: (+1)
   \   00000008   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   0000000A   0xB292             UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   0000000C   0x4294             CMP      R4,R2
   \   0000000E   0xD246             BCS.N    ??LowPass2ndOder_1
    274          	{
    275          
    276           	
    277          	  if (i>0)
   \   00000010   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000012   0x2C00             CMP      R4,#+0
   \   00000014   0xD00D             BEQ.N    ??LowPass2ndOder_2
    278          	  {
    279          	    InOld1 = InOld;
   \   00000016   0x.... 0x....      LDR.W    R5,??DataTable11_1
   \   0000001A   0x882D             LDRH     R5,[R5, #+0]
   \   0000001C   0x.... 0x....      LDR.W    R6,??DataTable11_2
   \   00000020   0x8035             STRH     R5,[R6, #+0]
    280          	  	InOld = Input[i-1];
   \   00000022   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000024   0xEB10 0x0544      ADDS     R5,R0,R4, LSL #+1
   \   00000028   0xF835 0x5C02      LDRH     R5,[R5, #-2]
   \   0000002C   0x.... 0x....      LDR.W    R6,??DataTable11_1
   \   00000030   0x8035             STRH     R5,[R6, #+0]
    281          	  }
    282          	  	   
    283          
    284          	  	Out = (int16_t)(((int32_t)(B0*Input[i]) + (int32_t)(B1*InOld) + (int32_t)(B2*InOld1)-(int32_t)(A1*Out_Old) - (int32_t)(A2*Out_Old1))/10000) ;
   \                     ??LowPass2ndOder_2: (+1)
   \   00000032   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000034   0xF930 0x5014      LDRSH    R5,[R0, R4, LSL #+1]
   \   00000038   0x2606             MOVS     R6,#+6
   \   0000003A   0xFB15 0xF506      SMULBB   R5,R5,R6
   \   0000003E   0x.... 0x....      LDR.W    R6,??DataTable11_1
   \   00000042   0xF9B6 0x6000      LDRSH    R6,[R6, #+0]
   \   00000046   0x270C             MOVS     R7,#+12
   \   00000048   0xFB16 0x5507      SMLABB   R5,R6,R7,R5
   \   0000004C   0x.... 0x....      LDR.W    R6,??DataTable11_2
   \   00000050   0xF9B6 0x6000      LDRSH    R6,[R6, #+0]
   \   00000054   0x2706             MOVS     R7,#+6
   \   00000056   0xFB16 0x5507      SMLABB   R5,R6,R7,R5
   \   0000005A   0x.... 0x....      LDR.W    R6,??DataTable11_3
   \   0000005E   0xF9B6 0x6000      LDRSH    R6,[R6, #+0]
   \   00000062   0x.... 0x....      LDR.W    R7,??DataTable11_4  ;; 0xffffb486
   \   00000066   0xFB16 0xF607      SMULBB   R6,R6,R7
   \   0000006A   0x1BAD             SUBS     R5,R5,R6
   \   0000006C   0x.... 0x....      LDR.W    R6,??DataTable11_5
   \   00000070   0xF9B6 0x6000      LDRSH    R6,[R6, #+0]
   \   00000074   0xF242 0x476A      MOVW     R7,#+9322
   \   00000078   0xFB16 0xF607      SMULBB   R6,R6,R7
   \   0000007C   0x1BAD             SUBS     R5,R5,R6
   \   0000007E   0xF242 0x7610      MOVW     R6,#+10000
   \   00000082   0xFB95 0xF5F6      SDIV     R5,R5,R6
   \   00000086   0x002B             MOVS     R3,R5
    285          	  
    286          	    Out_Old1 = Out_Old;
   \   00000088   0x.... 0x....      LDR.W    R5,??DataTable11_3
   \   0000008C   0x882D             LDRH     R5,[R5, #+0]
   \   0000008E   0x.... 0x....      LDR.W    R6,??DataTable11_5
   \   00000092   0x8035             STRH     R5,[R6, #+0]
    287          		Out_Old = Out;
   \   00000094   0x.... 0x....      LDR.W    R5,??DataTable11_3
   \   00000098   0x802B             STRH     R3,[R5, #+0]
    288          	}
   \   0000009A   0x1C64             ADDS     R4,R4,#+1
   \   0000009C   0xE7B4             B.N      ??LowPass2ndOder_0
    289          
    290          	*Output = (int16_t)Out;
   \                     ??LowPass2ndOder_1: (+1)
   \   0000009E   0x800B             STRH     R3,[R1, #+0]
    291          
    292              InOld1 = InOld;
   \   000000A0   0x.... 0x....      LDR.W    R5,??DataTable11_1
   \   000000A4   0x882D             LDRH     R5,[R5, #+0]
   \   000000A6   0x.... 0x....      LDR.W    R6,??DataTable11_2
   \   000000AA   0x8035             STRH     R5,[R6, #+0]
    293          	InOld = Input[i-1];
   \   000000AC   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   000000AE   0xEB10 0x0544      ADDS     R5,R0,R4, LSL #+1
   \   000000B2   0xF835 0x5C02      LDRH     R5,[R5, #-2]
   \   000000B6   0x.... 0x....      LDR.W    R6,??DataTable11_1
   \   000000BA   0x8035             STRH     R5,[R6, #+0]
    294          
    295          
    296          
    297          }
   \   000000BC   0xBCF0             POP      {R4-R7}
   \   000000BE   0x4770             BX       LR               ;; return

   \                                 In section .bss, align 2
   \                     ??InOld:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     ??InOld1:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     ??Out_Old_1:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     ??Out_Old1:
   \   00000000                      DS8 2
    298          
    299          #endif
    300          
    301          
    302          
    303          

   \                                 In section .text, align 2, keep-with-next
    304          void LowPass2ndOder_1(int16_t *Input, int16_t *Output, uint16_t Size)
    305          {
   \                     LowPass2ndOder_1: (+1)
   \   00000000   0xB4F0             PUSH     {R4-R7}
    306              int16_t Out=0;
   \   00000002   0x2300             MOVS     R3,#+0
    307          	static  int16_t InOld, InOld1;
    308          	static	int16_t Out_Old, Out_Old1;
    309                  uint16_t i;
    310          	 
    311              for(i=0; i<Size; i++)
   \   00000004   0x2500             MOVS     R5,#+0
   \   00000006   0x002C             MOVS     R4,R5
   \                     ??LowPass2ndOder_1_0: (+1)
   \   00000008   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   0000000A   0xB292             UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   0000000C   0x4294             CMP      R4,R2
   \   0000000E   0xD246             BCS.N    ??LowPass2ndOder_1_1
    312          	{
    313          
    314           	
    315          	  if (i>0)
   \   00000010   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000012   0x2C00             CMP      R4,#+0
   \   00000014   0xD00D             BEQ.N    ??LowPass2ndOder_1_2
    316          	  {
    317          	    InOld1 = InOld;
   \   00000016   0x.... 0x....      LDR.W    R5,??DataTable11_6
   \   0000001A   0x882D             LDRH     R5,[R5, #+0]
   \   0000001C   0x.... 0x....      LDR.W    R6,??DataTable11_7
   \   00000020   0x8035             STRH     R5,[R6, #+0]
    318          	  	InOld = Input[i-1];
   \   00000022   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000024   0xEB10 0x0544      ADDS     R5,R0,R4, LSL #+1
   \   00000028   0xF835 0x5C02      LDRH     R5,[R5, #-2]
   \   0000002C   0x.... 0x....      LDR.W    R6,??DataTable11_6
   \   00000030   0x8035             STRH     R5,[R6, #+0]
    319          	  } 
    320          	  	   
    321          
    322          	  	Out = (int16_t)(((int32_t)(B0*Input[i]) + (int32_t)(B1*InOld) + (int32_t)(B2*InOld1)-(int32_t)(A1*Out_Old) - (int32_t)(A2*Out_Old1))/1000) ; /* gain 10) */
   \                     ??LowPass2ndOder_1_2: (+1)
   \   00000032   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000034   0xF930 0x5014      LDRSH    R5,[R0, R4, LSL #+1]
   \   00000038   0x2606             MOVS     R6,#+6
   \   0000003A   0xFB15 0xF506      SMULBB   R5,R5,R6
   \   0000003E   0x.... 0x....      LDR.W    R6,??DataTable11_6
   \   00000042   0xF9B6 0x6000      LDRSH    R6,[R6, #+0]
   \   00000046   0x270C             MOVS     R7,#+12
   \   00000048   0xFB16 0x5507      SMLABB   R5,R6,R7,R5
   \   0000004C   0x.... 0x....      LDR.W    R6,??DataTable11_7
   \   00000050   0xF9B6 0x6000      LDRSH    R6,[R6, #+0]
   \   00000054   0x2706             MOVS     R7,#+6
   \   00000056   0xFB16 0x5507      SMLABB   R5,R6,R7,R5
   \   0000005A   0x.... 0x....      LDR.W    R6,??DataTable11_8
   \   0000005E   0xF9B6 0x6000      LDRSH    R6,[R6, #+0]
   \   00000062   0x.... 0x....      LDR.W    R7,??DataTable11_4  ;; 0xffffb486
   \   00000066   0xFB16 0xF607      SMULBB   R6,R6,R7
   \   0000006A   0x1BAD             SUBS     R5,R5,R6
   \   0000006C   0x.... 0x....      LDR.W    R6,??DataTable11_9
   \   00000070   0xF9B6 0x6000      LDRSH    R6,[R6, #+0]
   \   00000074   0xF242 0x476A      MOVW     R7,#+9322
   \   00000078   0xFB16 0xF607      SMULBB   R6,R6,R7
   \   0000007C   0x1BAD             SUBS     R5,R5,R6
   \   0000007E   0xF44F 0x767A      MOV      R6,#+1000
   \   00000082   0xFB95 0xF5F6      SDIV     R5,R5,R6
   \   00000086   0x002B             MOVS     R3,R5
    323          	  
    324          	    Out_Old1 = Out_Old;
   \   00000088   0x.... 0x....      LDR.W    R5,??DataTable11_8
   \   0000008C   0x882D             LDRH     R5,[R5, #+0]
   \   0000008E   0x.... 0x....      LDR.W    R6,??DataTable11_9
   \   00000092   0x8035             STRH     R5,[R6, #+0]
    325          		Out_Old = Out;
   \   00000094   0x.... 0x....      LDR.W    R5,??DataTable11_8
   \   00000098   0x802B             STRH     R3,[R5, #+0]
    326          	}
   \   0000009A   0x1C64             ADDS     R4,R4,#+1
   \   0000009C   0xE7B4             B.N      ??LowPass2ndOder_1_0
    327          
    328          	*Output = (int16_t)Out;
   \                     ??LowPass2ndOder_1_1: (+1)
   \   0000009E   0x800B             STRH     R3,[R1, #+0]
    329          
    330              InOld1 = InOld;
   \   000000A0   0x.... 0x....      LDR.W    R5,??DataTable11_6
   \   000000A4   0x882D             LDRH     R5,[R5, #+0]
   \   000000A6   0x.... 0x....      LDR.W    R6,??DataTable11_7
   \   000000AA   0x8035             STRH     R5,[R6, #+0]
    331          	InOld = Input[i-1];
   \   000000AC   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   000000AE   0xEB10 0x0544      ADDS     R5,R0,R4, LSL #+1
   \   000000B2   0xF835 0x5C02      LDRH     R5,[R5, #-2]
   \   000000B6   0x.... 0x....      LDR.W    R6,??DataTable11_6
   \   000000BA   0x8035             STRH     R5,[R6, #+0]
    332          
    333          
    334          	
    335          }
   \   000000BC   0xBCF0             POP      {R4-R7}
   \   000000BE   0x4770             BX       LR               ;; return

   \                                 In section .bss, align 2
   \                     ??InOld_1:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     ??InOld1_1:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     ??Out_Old_2:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     ??Out_Old1_1:
   \   00000000                      DS8 2
    336          

   \                                 In section .text, align 2, keep-with-next
    337          void LowPassIIR(int16_t *Input, int16_t *Output,int16_t *OutOld, uint16_t Size, uint16_t K)
    338          {
   \                     LowPassIIR: (+1)
   \   00000000   0xE92D 0x43F8      PUSH     {R3-R9,LR}
   \   00000004   0x0005             MOVS     R5,R0
   \   00000006   0x000E             MOVS     R6,R1
   \   00000008   0x0017             MOVS     R7,R2
   \   0000000A   0x4698             MOV      R8,R3
   \   0000000C   0x9C08             LDR      R4,[SP, #+32]
    339              
    340              //static	int16_t OutOld;
    341          
    342          	for(uint16_t i=0; i<Size; i++)
   \   0000000E   0xF05F 0x0900      MOVS     R9,#+0
   \                     ??LowPassIIR_0: (+1)
   \   00000012   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000016   0xFA1F 0xF888      UXTH     R8,R8            ;; ZeroExt  R8,R8,#+16,#+16
   \   0000001A   0x45C1             CMP      R9,R8
   \   0000001C   0xD21C             BCS.N    ??LowPassIIR_1
    343          	{
    344                  *(Output+i) = ADD_S16(*OutOld , SUB_S16(*(Input+i),*OutOld)/(K));
   \   0000001E   0xF9B7 0x1000      LDRSH    R1,[R7, #+0]
   \   00000022   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000026   0xF935 0x0019      LDRSH    R0,[R5, R9, LSL #+1]
   \   0000002A   0x.... 0x....      BL       SUB_S16
   \   0000002E   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \   00000030   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000032   0xFB90 0xF1F4      SDIV     R1,R0,R4
   \   00000036   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   00000038   0xF9B7 0x0000      LDRSH    R0,[R7, #+0]
   \   0000003C   0x.... 0x....      BL       ADD_S16
   \   00000040   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000044   0xF826 0x0019      STRH     R0,[R6, R9, LSL #+1]
    345          		*OutOld = *(Output+i);
   \   00000048   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   0000004C   0xF836 0x0019      LDRH     R0,[R6, R9, LSL #+1]
   \   00000050   0x8038             STRH     R0,[R7, #+0]
    346          	}
   \   00000052   0xF119 0x0901      ADDS     R9,R9,#+1
   \   00000056   0xE7DC             B.N      ??LowPassIIR_0
    347          }
   \                     ??LowPassIIR_1: (+1)
   \   00000058   0xE8BD 0x83F1      POP      {R0,R4-R9,PC}    ;; return
    348          
    349          

   \                                 In section .text, align 4, keep-with-next
    350          void Decimation(uint8_t *Input, int16_t *Output, int16_t PreCalcBuff[129][256]) //128 bytes input 32 bytes output
    351          {
   \                     Decimation: (+1)
   \   00000000   0xE92D 0x43F0      PUSH     {R4-R9,LR}
   \   00000004   0xF5AD 0x7D01      SUB      SP,SP,#+516
   \   00000008   0x0004             MOVS     R4,R0
   \   0000000A   0x000D             MOVS     R5,R1
   \   0000000C   0x0016             MOVS     R6,R2
    352              uint8_t test, IndexIn=0;
   \   0000000E   0xF05F 0x0900      MOVS     R9,#+0
    353              int16_t Sigma;
    354          	static int16_t OutRing[129];
    355          	static int16_t iRing=0;
    356          //	static int32_t TempU32;
    357          	static float Data, Data_Old;
    358          	float Coef[129] = { 
    359          -0.000  ,-1.560  ,-2.990  ,-4.104  ,-4.722  ,-4.683  ,-3.880  ,-2.288  ,0.000  ,2.755 ,
    360          5.609  ,8.085  ,9.660  ,9.851  ,8.317  ,4.960  ,-0.000  ,-6.000  ,-12.166  ,-17.414 ,
    361          -20.614  ,-20.795  ,-17.350  ,-10.219  ,0.000  ,12.048  ,24.119  ,34.098  ,39.884  ,39.773 ,
    362          32.823  ,19.134  ,-0.000  ,-22.146  ,-43.977  ,-61.716  ,-71.720  ,-71.119  ,-58.413  ,-33.924 ,
    363          0.000  ,39.086  ,77.572  ,108.935  ,126.848  ,126.222  ,104.203  ,60.939  ,-0.000  ,-71.661 ,
    364          -144.245  ,-206.111  ,-245.139  ,-250.303  ,-213.240  ,-129.604  ,0.000  ,169.645  ,368.369  ,581.105 ,
    365          790.173  ,977.157  ,1124.942  ,1219.655  ,1252.270  ,1219.655  ,1124.942  ,977.157  ,790.173  ,581.105 ,
    366          368.369  ,169.645  ,0.000  ,-129.604  ,-213.240  ,-250.303  ,-245.139  ,-206.111  ,-144.245  ,-71.661 ,
    367          -0.000  ,60.939  ,104.203  ,126.222  ,126.848  ,108.935  ,77.572  ,39.086  ,0.000  ,-33.924 ,
    368          -58.413  ,-71.119  ,-71.720  ,-61.716  ,-43.977  ,-22.146  ,-0.000  ,19.134  ,32.823  ,39.773 ,
    369          39.884  ,34.098  ,24.119  ,12.048  ,0.000  ,-10.219  ,-17.350  ,-20.795  ,-20.614  ,-17.414 ,
    370          -12.166  ,-6.000  ,-0.000  ,4.960  ,8.317  ,9.851  ,9.660  ,8.085  ,5.609  ,2.755 ,
    371          0.000  ,-2.288  ,-3.880  ,-4.683  ,-4.722  ,-4.104  ,-2.990  ,-1.560  ,-0.000  };
   \   00000012   0x4668             MOV      R0,SP
   \   00000014   0x.... 0x....      LDR.W    R1,??DataTable11_10
   \   00000018   0xF44F 0x7201      MOV      R2,#+516
   \   0000001C   0x.... 0x....      BL       __aeabi_memcpy4
    372          
    373          	for (uint8_t i=0;i<16; i++) //index of output sample 16 ouput
   \   00000020   0x2000             MOVS     R0,#+0
   \                     ??Decimation_0: (+1)
   \   00000022   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000024   0x2810             CMP      R0,#+16
   \   00000026   0xF280 0x80CC      BGE.W    ??Decimation_1
    374          	{
    375          
    376          	   Sigma = 0;
   \   0000002A   0x2100             MOVS     R1,#+0
   \   0000002C   0x4688             MOV      R8,R1
    377          	   
    378          
    379          	   for (uint8_t j=0; j<8; j++)  // load byte by byte from Input array 8
   \   0000002E   0x2100             MOVS     R1,#+0
   \                     ??Decimation_2: (+1)
   \   00000030   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   00000032   0x2908             CMP      R1,#+8
   \   00000034   0xDA52             BGE.N    ??Decimation_3
    380          	   {
    381          	       test = Input[IndexIn++];
   \   00000036   0xFA5F 0xF989      UXTB     R9,R9            ;; ZeroExt  R9,R9,#+24,#+24
   \   0000003A   0xF819 0x2004      LDRB     R2,[R9, R4]
   \   0000003E   0x0017             MOVS     R7,R2
   \   00000040   0xF119 0x0901      ADDS     R9,R9,#+1
    382          		   
    383          		   for (uint8_t k=0; k<8; k++)  // this loop for 1 byte
   \   00000044   0x2200             MOVS     R2,#+0
   \                     ??Decimation_4: (+1)
   \   00000046   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   00000048   0x2A08             CMP      R2,#+8
   \   0000004A   0xDA45             BGE.N    ??Decimation_5
    384          		   {
    385               			if ((test&0x01)==0x01)
   \   0000004C   0xB2FF             UXTB     R7,R7            ;; ZeroExt  R7,R7,#+24,#+24
   \   0000004E   0x07FB             LSLS     R3,R7,#+31
   \   00000050   0xD516             BPL.N    ??Decimation_6
    386               			{
    387               			    //Sigma +=2;
    388               			    Data = Data_Old + (100 - Data_Old)/200;	
   \   00000052   0xED9F 0x....      VLDR.W   S0,??DataTable6  ;; 0x42c80000
   \   00000056   0x.... 0x....      LDR.W    R3,??DataTable11_11
   \   0000005A   0xEDD3 0x0A00      VLDR     S1,[R3, #0]
   \   0000005E   0xEE30 0x0A60      VSUB.F32 S0,S0,S1
   \   00000062   0xEDDF 0x....      VLDR.W   S1,??DataTable6_1  ;; 0x43480000
   \   00000066   0xEE80 0x0A20      VDIV.F32 S0,S0,S1
   \   0000006A   0x.... 0x....      LDR.W    R3,??DataTable11_11
   \   0000006E   0xEDD3 0x0A00      VLDR     S1,[R3, #0]
   \   00000072   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   00000076   0x.... 0x....      LDR.W    R3,??DataTable11_12
   \   0000007A   0xED83 0x0A00      VSTR     S0,[R3, #0]
   \   0000007E   0xE015             B.N      ??Decimation_7
    389               			}
    390               			else
    391               			{
    392               			    //Sigma -=2;
    393          					Data = Data_Old + (-100 - Data_Old)/200;		
   \                     ??Decimation_6: (+1)
   \   00000080   0xED9F 0x....      VLDR.W   S0,??DataTable6_2  ;; 0xc2c80000
   \   00000084   0x.... 0x....      LDR.W    R3,??DataTable11_11
   \   00000088   0xEDD3 0x0A00      VLDR     S1,[R3, #0]
   \   0000008C   0xEE30 0x0A60      VSUB.F32 S0,S0,S1
   \   00000090   0xEDDF 0x....      VLDR.W   S1,??DataTable6_1  ;; 0x43480000
   \   00000094   0xEE80 0x0A20      VDIV.F32 S0,S0,S1
   \   00000098   0x.... 0x....      LDR.W    R3,??DataTable11_11
   \   0000009C   0xEDD3 0x0A00      VLDR     S1,[R3, #0]
   \   000000A0   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   000000A4   0x.... 0x....      LDR.W    R3,??DataTable11_12
   \   000000A8   0xED83 0x0A00      VSTR     S0,[R3, #0]
    394               			}
    395          
    396          				Data_Old = Data;
   \                     ??Decimation_7: (+1)
   \   000000AC   0x.... 0x....      LDR.W    R3,??DataTable11_11
   \   000000B0   0x.... 0x....      LDR.W    R12,??DataTable11_12
   \   000000B4   0xF8DC 0xC000      LDR      R12,[R12, #+0]
   \   000000B8   0xF8C3 0xC000      STR      R12,[R3, #+0]
    397          
    398          				Sigma += (int16_t)(Data); 
   \   000000BC   0x.... 0x....      LDR.W    R3,??DataTable11_12
   \   000000C0   0xED93 0x0A00      VLDR     S0,[R3, #0]
   \   000000C4   0xEEBD 0x0AC0      VCVT.S32.F32 S0,S0
   \   000000C8   0xEE10 0x3A10      VMOV     R3,S0
   \   000000CC   0xEB13 0x0808      ADDS     R8,R3,R8
    399               
    400               			test >>= 1; /* go to next bit in "test" to convolution */
   \   000000D0   0xB2FF             UXTB     R7,R7            ;; ZeroExt  R7,R7,#+24,#+24
   \   000000D2   0x087F             LSRS     R7,R7,#+1
    401          		   }
   \   000000D4   0x1C52             ADDS     R2,R2,#+1
   \   000000D6   0xE7B6             B.N      ??Decimation_4
    402          		   
    403          	   }
   \                     ??Decimation_5: (+1)
   \   000000D8   0x1C49             ADDS     R1,R1,#+1
   \   000000DA   0xE7A9             B.N      ??Decimation_2
    404          	   
    405          	   OutRing[iRing] = Sigma;
   \                     ??Decimation_3: (+1)
   \   000000DC   0x.... 0x....      LDR.W    R1,??DataTable11_13
   \   000000E0   0x.... 0x....      LDR.W    R2,??DataTable11_14
   \   000000E4   0xF9B2 0x2000      LDRSH    R2,[R2, #+0]
   \   000000E8   0xF821 0x8012      STRH     R8,[R1, R2, LSL #+1]
    406          	   //if (OutRing[iRing] > 127)
    407          	   //{
    408                 //    OutRing[iRing] = 127;
    409          	   //}
    410          	   //else if (OutRing[iRing] < -128)
    411          	   //{
    412                 //    OutRing[iRing] = -128;
    413          	   //}
    414          	   //else
    415          	   //{
    416          	   //    ;
    417          	   //}
    418          	   
    419          
    420                 Output[i] = 0;
   \   000000EC   0x2100             MOVS     R1,#+0
   \   000000EE   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000F0   0xF825 0x1010      STRH     R1,[R5, R0, LSL #+1]
    421          
    422             
    423                 for(int16_t ii=0; ii<129;ii++)
   \   000000F4   0x2100             MOVS     R1,#+0
   \                     ??Decimation_8: (+1)
   \   000000F6   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   000000F8   0x2981             CMP      R1,#+129
   \   000000FA   0xDA4F             BGE.N    ??Decimation_9
    424                 {
    425                     if (iRing >= ii)
   \   000000FC   0x.... 0x....      LDR.W    R2,??DataTable11_14
   \   00000100   0xF9B2 0x2000      LDRSH    R2,[R2, #+0]
   \   00000104   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   00000106   0x428A             CMP      R2,R1
   \   00000108   0xDB22             BLT.N    ??Decimation_10
    426                         Output[i] = Output[i] + (int16_t)(OutRing[iRing - ii]*Coef[ii]);//PreCalcBuff[ii][(OutRing[iRing - ii]+128)]; //(OutRing[iRing - ii]*Coef[ii])
   \   0000010A   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000010C   0xF835 0x2010      LDRH     R2,[R5, R0, LSL #+1]
   \   00000110   0x.... 0x....      LDR.W    R3,??DataTable11_13
   \   00000114   0x.... 0x....      LDR.W    R12,??DataTable11_14
   \   00000118   0xF9BC 0xC000      LDRSH    R12,[R12, #+0]
   \   0000011C   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   0000011E   0xEBBC 0x0C01      SUBS     R12,R12,R1
   \   00000122   0xF933 0x301C      LDRSH    R3,[R3, R12, LSL #+1]
   \   00000126   0xEE00 0x3A10      VMOV     S0,R3
   \   0000012A   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   0000012E   0x466B             MOV      R3,SP
   \   00000130   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   00000132   0xEB13 0x0381      ADDS     R3,R3,R1, LSL #+2
   \   00000136   0xEDD3 0x0A00      VLDR     S1,[R3, #0]
   \   0000013A   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   0000013E   0xEEBD 0x0AC0      VCVT.S32.F32 S0,S0
   \   00000142   0xEE10 0x3A10      VMOV     R3,S0
   \   00000146   0x189A             ADDS     R2,R3,R2
   \   00000148   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000014A   0xF825 0x2010      STRH     R2,[R5, R0, LSL #+1]
   \   0000014E   0xE023             B.N      ??Decimation_11
    427                     else
    428                         Output[i] = Output[i] + (int16_t)(OutRing[129 + iRing - ii]*Coef[ii]);//PreCalcBuff[ii][(OutRing[129 + iRing - ii]+128)];  // (OutRing[129 + iRing - ii]*Coef[ii])
   \                     ??Decimation_10: (+1)
   \   00000150   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000152   0xF835 0x2010      LDRH     R2,[R5, R0, LSL #+1]
   \   00000156   0x.... 0x....      LDR.W    R3,??DataTable11_13
   \   0000015A   0x.... 0x....      LDR.W    R12,??DataTable11_14
   \   0000015E   0xF9BC 0xC000      LDRSH    R12,[R12, #+0]
   \   00000162   0xF11C 0x0C81      ADDS     R12,R12,#+129
   \   00000166   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   00000168   0xEBBC 0x0C01      SUBS     R12,R12,R1
   \   0000016C   0xF933 0x301C      LDRSH    R3,[R3, R12, LSL #+1]
   \   00000170   0xEE00 0x3A10      VMOV     S0,R3
   \   00000174   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000178   0x466B             MOV      R3,SP
   \   0000017A   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   0000017C   0xEB13 0x0381      ADDS     R3,R3,R1, LSL #+2
   \   00000180   0xEDD3 0x0A00      VLDR     S1,[R3, #0]
   \   00000184   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   00000188   0xEEBD 0x0AC0      VCVT.S32.F32 S0,S0
   \   0000018C   0xEE10 0x3A10      VMOV     R3,S0
   \   00000190   0x189A             ADDS     R2,R3,R2
   \   00000192   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000194   0xF825 0x2010      STRH     R2,[R5, R0, LSL #+1]
    429          		  	   
    430                 }
   \                     ??Decimation_11: (+1)
   \   00000198   0x1C49             ADDS     R1,R1,#+1
   \   0000019A   0xE7AC             B.N      ??Decimation_8
    431                 
    432          	   
    433                 iRing++;             
   \                     ??Decimation_9: (+1)
   \   0000019C   0x.... 0x....      LDR.W    R1,??DataTable11_14
   \   000001A0   0x8809             LDRH     R1,[R1, #+0]
   \   000001A2   0x1C49             ADDS     R1,R1,#+1
   \   000001A4   0x.... 0x....      LDR.W    R2,??DataTable11_14
   \   000001A8   0x8011             STRH     R1,[R2, #+0]
    434                 if (iRing==129) iRing = 0;  
   \   000001AA   0x.... 0x....      LDR.W    R1,??DataTable11_14
   \   000001AE   0xF9B1 0x1000      LDRSH    R1,[R1, #+0]
   \   000001B2   0x2981             CMP      R1,#+129
   \   000001B4   0xD103             BNE.N    ??Decimation_12
   \   000001B6   0x2100             MOVS     R1,#+0
   \   000001B8   0x.... 0x....      LDR.W    R2,??DataTable11_14
   \   000001BC   0x8011             STRH     R1,[R2, #+0]
    435          
    436          	}
   \                     ??Decimation_12: (+1)
   \   000001BE   0x1C40             ADDS     R0,R0,#+1
   \   000001C0   0xE72F             B.N      ??Decimation_0
    437          }
   \                     ??Decimation_1: (+1)
   \   000001C2   0xF50D 0x7D01      ADD      SP,SP,#+516
   \   000001C6   0xE8BD 0x83F0      POP      {R4-R9,PC}       ;; return

   \                                 In section .bss, align 4
   \                     ??OutRing:
   \   00000000                      DS8 260

   \                                 In section .bss, align 2
   \                     ??iRing:
   \   00000000                      DS8 2

   \                                 In section .bss, align 4
   \                     ??Data:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     ??Data_Old:
   \   00000000                      DS8 4

   \                                 In section .rodata, align 4
   \                     ?_0:
   \   00000000   0x80000000         DC32 80000000H, 0BFC7AE14H, 0C03F5C29H, 0C08353F8H, 0C0971AA0H
   \              0xBFC7AE14   
   \              0xC03F5C29   
   \              0xC08353F8   
   \              0xC0971AA0   
   \   00000014   0xC095DB23         DC32 0C095DB23H, 0C07851ECH, 0C0126E98H, 0H, 403051ECH, 40B37CEEH
   \              0xC07851EC   
   \              0xC0126E98   
   \              0x00000000   
   \              0x403051EC   
   \              0x40B37CEE   
   \   0000002C   0x41015C29         DC32 41015C29H, 411A8F5CH, 411D9DB2H, 4105126FH, 409EB852H, 80000000H
   \              0x411A8F5C   
   \              0x411D9DB2   
   \              0x4105126F   
   \              0x409EB852   
   \              0x80000000   
   \   00000044   0xC0C00000         DC32 0C0C00000H, 0C142A7F0H, 0C18B4FDFH, 0C1A4E979H, 0C1A65C29H
   \              0xC142A7F0   
   \              0xC18B4FDF   
   \              0xC1A4E979   
   \              0xC1A65C29   
   \   00000058   0xC18ACCCD         DC32 0C18ACCCDH, 0C1238106H, 0H, 4140C49CH, 41C0F3B6H, 4208645AH
   \              0xC1238106   
   \              0x00000000   
   \              0x4140C49C   
   \              0x41C0F3B6   
   \              0x4208645A   
   \   00000070   0x421F8937         DC32 421F8937H, 421F178DH, 42034AC1H, 4199126FH, 80000000H, 0C1B12B02H
   \              0x421F178D   
   \              0x42034AC1   
   \              0x4199126F   
   \              0x80000000   
   \              0xC1B12B02   
   \   00000088   0xC22FE873         DC32 0C22FE873H, 0C276DD2FH, 0C28F70A4H, 0C28E3CEEH, 0C269A6E9H
   \              0xC276DD2F   
   \              0xC28F70A4   
   \              0xC28E3CEE   
   \              0xC269A6E9   
   \   0000009C   0xC207B22D         DC32 0C207B22DH, 0H, 421C5810H, 429B24DDH, 42D9DEB8H, 42FDB22DH
   \              0x00000000   
   \              0x421C5810   
   \              0x429B24DD   
   \              0x42D9DEB8   
   \              0x42FDB22D   
   \   000000B4   0x42FC71AA         DC32 42FC71AAH, 42D067F0H, 4273C189H, 80000000H, 0C28F526FH, 0C3103EB8H
   \              0x42D067F0   
   \              0x4273C189   
   \              0x80000000   
   \              0xC28F526F   
   \              0xC3103EB8   
   \   000000CC   0xC34E1C6A         DC32 0C34E1C6AH, 0C3752396H, 0C37A4D91H, 0C3553D71H, 0C3019AA0H, 0H
   \              0xC3752396   
   \              0xC37A4D91   
   \              0xC3553D71   
   \              0xC3019AA0   
   \              0x00000000   
   \   000000E4   0x4329A51F         DC32 4329A51FH, 43B82F3BH, 441146B8H, 44458B12H, 44744A0CH, 448C9E25H
   \              0x43B82F3B   
   \              0x441146B8   
   \              0x44458B12   
   \              0x44744A0C   
   \              0x448C9E25   
   \   000000FC   0x449874F6         DC32 449874F6H, 449C88A4H, 449874F6H, 448C9E25H, 44744A0CH, 44458B12H
   \              0x449C88A4   
   \              0x449874F6   
   \              0x448C9E25   
   \              0x44744A0C   
   \              0x44458B12   
   \   00000114   0x441146B8         DC32 441146B8H, 43B82F3BH, 4329A51FH, 0H, 0C3019AA0H, 0C3553D71H
   \              0x43B82F3B   
   \              0x4329A51F   
   \              0x00000000   
   \              0xC3019AA0   
   \              0xC3553D71   
   \   0000012C   0xC37A4D91         DC32 0C37A4D91H, 0C3752396H, 0C34E1C6AH, 0C3103EB8H, 0C28F526FH
   \              0xC3752396   
   \              0xC34E1C6A   
   \              0xC3103EB8   
   \              0xC28F526F   
   \   00000140   0x80000000         DC32 80000000H, 4273C189H, 42D067F0H, 42FC71AAH, 42FDB22DH, 42D9DEB8H
   \              0x4273C189   
   \              0x42D067F0   
   \              0x42FC71AA   
   \              0x42FDB22D   
   \              0x42D9DEB8   
   \   00000158   0x429B24DD         DC32 429B24DDH, 421C5810H, 0H, 0C207B22DH, 0C269A6E9H, 0C28E3CEEH
   \              0x421C5810   
   \              0x00000000   
   \              0xC207B22D   
   \              0xC269A6E9   
   \              0xC28E3CEE   
   \   00000170   0xC28F70A4         DC32 0C28F70A4H, 0C276DD2FH, 0C22FE873H, 0C1B12B02H, 80000000H
   \              0xC276DD2F   
   \              0xC22FE873   
   \              0xC1B12B02   
   \              0x80000000   
   \   00000184   0x4199126F         DC32 4199126FH, 42034AC1H, 421F178DH, 421F8937H, 4208645AH, 41C0F3B6H
   \              0x42034AC1   
   \              0x421F178D   
   \              0x421F8937   
   \              0x4208645A   
   \              0x41C0F3B6   
   \   0000019C   0x4140C49C         DC32 4140C49CH, 0H, 0C1238106H, 0C18ACCCDH, 0C1A65C29H, 0C1A4E979H
   \              0x00000000   
   \              0xC1238106   
   \              0xC18ACCCD   
   \              0xC1A65C29   
   \              0xC1A4E979   
   \   000001B4   0xC18B4FDF         DC32 0C18B4FDFH, 0C142A7F0H, 0C0C00000H, 80000000H, 409EB852H
   \              0xC142A7F0   
   \              0xC0C00000   
   \              0x80000000   
   \              0x409EB852   
   \   000001C8   0x4105126F         DC32 4105126FH, 411D9DB2H, 411A8F5CH, 41015C29H, 40B37CEEH, 403051ECH
   \              0x411D9DB2   
   \              0x411A8F5C   
   \              0x41015C29   
   \              0x40B37CEE   
   \              0x403051EC   
   \   000001E0   0x00000000         DC32 0H, 0C0126E98H, 0C07851ECH, 0C095DB23H, 0C0971AA0H, 0C08353F8H
   \              0xC0126E98   
   \              0xC07851EC   
   \              0xC095DB23   
   \              0xC0971AA0   
   \              0xC08353F8   
   \   000001F8   0xC03F5C29         DC32 0C03F5C29H, 0BFC7AE14H, 80000000H
   \              0xBFC7AE14   
   \              0x80000000   
    438          
    439          
    440          

   \                                 In section .text, align 2, keep-with-next
    441          void Window(float *fir64Coff)
    442          {
   \                     Window: (+1)
   \   00000000   0xB5F8             PUSH     {R3-R7,LR}
   \   00000002   0xED2D 0x8B02      VPUSH    {D8}
   \   00000006   0x0004             MOVS     R4,R0
    443              for (int i = 0; i < DSP_NUMCOFF; i++) //DSP_NUMCOFF
   \   00000008   0x2500             MOVS     R5,#+0
   \                     ??Window_0: (+1)
   \   0000000A   0x2D40             CMP      R5,#+64
   \   0000000C   0xDA35             BGE.N    ??Window_1
    444          	{
    445                  //fir64Coff[i] = (double_t)((1 << 10)-1);
    446                  fir64Coff[i] = (float)(1000);
   \   0000000E   0x.... 0x....      LDR.W    R0,??DataTable11_15  ;; 0x447a0000
   \   00000012   0xF844 0x0025      STR      R0,[R4, R5, LSL #+2]
    447          		//Hanning Window (less noise than hamming?
    448                  fir64Coff[i] *= 0.5f * (
    449          		                       1.0f - cos((2.0f * PI * i)/ (DSP_NUMCOFF - 1.0f))  
    450          		                      );
   \   00000016   0x0028             MOVS     R0,R5
   \   00000018   0x.... 0x....      BL       __aeabi_i2d
   \   0000001C   0x.... 0x....      LDR.W    R2,??DataTable10  ;; 0x5a7ed197
   \   00000020   0x.... 0x....      LDR.W    R3,??DataTable10_1  ;; 0x401921fb
   \   00000024   0x.... 0x....      BL       __aeabi_dmul
   \   00000028   0x2200             MOVS     R2,#+0
   \   0000002A   0x.... 0x....      LDR.W    R3,??DataTable11_16  ;; 0x404f8000
   \   0000002E   0x.... 0x....      BL       __aeabi_ddiv
   \   00000032   0xEC41 0x0B10      VMOV     D0,R0,R1
   \   00000036   0x.... 0x....      BL       cos
   \   0000003A   0xEEB0 0x8A40      VMOV.F32 S16,S0
   \   0000003E   0xEEF0 0x8A60      VMOV.F32 S17,S1
   \   00000042   0xF854 0x0025      LDR      R0,[R4, R5, LSL #+2]
   \   00000046   0x.... 0x....      BL       __aeabi_f2d
   \   0000004A   0x0006             MOVS     R6,R0
   \   0000004C   0x000F             MOVS     R7,R1
   \   0000004E   0x2000             MOVS     R0,#+0
   \   00000050   0x.... 0x....      LDR.W    R1,??DataTable11_17  ;; 0x3ff00000
   \   00000054   0xEC53 0x2B18      VMOV     R2,R3,D8
   \   00000058   0x.... 0x....      BL       __aeabi_dsub
   \   0000005C   0x2200             MOVS     R2,#+0
   \   0000005E   0x.... 0x....      LDR.W    R3,??DataTable11_18  ;; 0x3fe00000
   \   00000062   0x.... 0x....      BL       __aeabi_dmul
   \   00000066   0x0032             MOVS     R2,R6
   \   00000068   0x003B             MOVS     R3,R7
   \   0000006A   0x.... 0x....      BL       __aeabi_dmul
   \   0000006E   0x.... 0x....      BL       __aeabi_d2f
   \   00000072   0xF844 0x0025      STR      R0,[R4, R5, LSL #+2]
    451          
    452                  //Hamming Window
    453                  //fir64Coff[i] *= 0.54 - 0.46 * cos((2 * M_PI * i) / (64 - 1));
    454                      
    455                  //Nuttall Window
    456                  //fir64Coff[i] *= 0.355768f - 0.487396*cos((2*M_PI*i)/(64 -1)) + 0.144232*cos((4*M_PI*i)/(64-1))-0.012604*cos((6*M_PI*i)/(64-1));
    457            
    458                  //Cosine Window
    459                  //fir64Coff[i] *= sin((M_PI * i)/(64-1));
    460          
    461                  //Blackman Harris            
    462                  //float w = (2 * M_PI * i) / 64;
    463                  //fir64Coff[i] *= 0.422323 - 0.49755 * cos(w) + 0.07922 * cos(2 * w);
    464              }
   \   00000076   0x1C6D             ADDS     R5,R5,#+1
   \   00000078   0xE7C7             B.N      ??Window_0
    465          	 //fir64Coff[DSP_NUMCOFF-1] = 0;
    466          }
   \                     ??Window_1: (+1)
   \   0000007A   0xECBD 0x8B02      VPOP     {D8}
   \   0000007E   0xBDF1             POP      {R0,R4-R7,PC}    ;; return
    467          
    468          /*
    469          Wikimedia: PDM algorithm
    470          y[n] = x[n] + e[n] - e[n-1]     --> +/-1 only
    471          
    472          e[n] = y[n] - x[n] + e[n-1]
    473          
    474          y[n]     output sample 
    475          e[n]     error 
    476          e[n-1]   preivous error
    477          
    478          */

   \                                 In section .text, align 2, keep-with-next
    479          void PCM2PDM (int16_t *InBuff, int16_t *OutBuff, int16_t size, float *err)
    480          {		
   \                     PCM2PDM: (+1)
   \   00000000   0xB470             PUSH     {R4-R6}
    481          	for (int16_t i =0; i< size; i++)
   \   00000002   0x2400             MOVS     R4,#+0
   \                     ??PCM2PDM_0: (+1)
   \   00000004   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000006   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000008   0x4294             CMP      R4,R2
   \   0000000A   0xDA53             BGE.N    ??PCM2PDM_1
    482          	{
    483          		if (i==0)
   \   0000000C   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   0000000E   0x2C00             CMP      R4,#+0
   \   00000010   0xD11B             BNE.N    ??PCM2PDM_2
    484          		{
    485          		    if (InBuff[i] > 0)
   \   00000012   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000014   0xF930 0x5014      LDRSH    R5,[R0, R4, LSL #+1]
   \   00000018   0x2D01             CMP      R5,#+1
   \   0000001A   0xDB04             BLT.N    ??PCM2PDM_3
    486          	            OutBuff[i] = 1;
   \   0000001C   0x2501             MOVS     R5,#+1
   \   0000001E   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000020   0xF821 0x5014      STRH     R5,[R1, R4, LSL #+1]
   \   00000024   0xE003             B.N      ??PCM2PDM_4
    487          		    else
    488          			    OutBuff[i] = 0; // "-1" is replace by "0"	
   \                     ??PCM2PDM_3: (+1)
   \   00000026   0x2500             MOVS     R5,#+0
   \   00000028   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   0000002A   0xF821 0x5014      STRH     R5,[R1, R4, LSL #+1]
    489          			err[0] = OutBuff[i] - InBuff[i];
   \                     ??PCM2PDM_4: (+1)
   \   0000002E   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000030   0xF931 0x5014      LDRSH    R5,[R1, R4, LSL #+1]
   \   00000034   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000036   0xF930 0x6014      LDRSH    R6,[R0, R4, LSL #+1]
   \   0000003A   0x1BAD             SUBS     R5,R5,R6
   \   0000003C   0xEE00 0x5A10      VMOV     S0,R5
   \   00000040   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000044   0xED83 0x0A00      VSTR     S0,[R3, #0]
   \   00000048   0xE032             B.N      ??PCM2PDM_5
    490          		}
    491          		else
    492          		{
    493          			if (InBuff[i] > err[i-1])
   \                     ??PCM2PDM_2: (+1)
   \   0000004A   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   0000004C   0xF930 0x5014      LDRSH    R5,[R0, R4, LSL #+1]
   \   00000050   0xEE00 0x5A10      VMOV     S0,R5
   \   00000054   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000058   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   0000005A   0xEB13 0x0584      ADDS     R5,R3,R4, LSL #+2
   \   0000005E   0x1F2D             SUBS     R5,R5,#+4
   \   00000060   0xEDD5 0x0A00      VLDR     S1,[R5, #0]
   \   00000064   0xEEF4 0x0A40      VCMP.F32 S1,S0
   \   00000068   0xEEF1 0xFA10      FMSTAT   
   \   0000006C   0xD504             BPL.N    ??PCM2PDM_6
    494          				OutBuff[i] = 1;
   \   0000006E   0x2501             MOVS     R5,#+1
   \   00000070   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000072   0xF821 0x5014      STRH     R5,[R1, R4, LSL #+1]
   \   00000076   0xE003             B.N      ??PCM2PDM_7
    495          			else
    496          				OutBuff[i] = 0; // "-1" is replace by "0"
   \                     ??PCM2PDM_6: (+1)
   \   00000078   0x2500             MOVS     R5,#+0
   \   0000007A   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   0000007C   0xF821 0x5014      STRH     R5,[R1, R4, LSL #+1]
    497          			err[i] = OutBuff[i] - InBuff[i] + err[i-1];
   \                     ??PCM2PDM_7: (+1)
   \   00000080   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000082   0xF931 0x5014      LDRSH    R5,[R1, R4, LSL #+1]
   \   00000086   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000088   0xF930 0x6014      LDRSH    R6,[R0, R4, LSL #+1]
   \   0000008C   0x1BAD             SUBS     R5,R5,R6
   \   0000008E   0xEE00 0x5A10      VMOV     S0,R5
   \   00000092   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000096   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000098   0xEB13 0x0584      ADDS     R5,R3,R4, LSL #+2
   \   0000009C   0x1F2D             SUBS     R5,R5,#+4
   \   0000009E   0xEDD5 0x0A00      VLDR     S1,[R5, #0]
   \   000000A2   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   000000A6   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   000000A8   0xEB13 0x0584      ADDS     R5,R3,R4, LSL #+2
   \   000000AC   0xED85 0x0A00      VSTR     S0,[R5, #0]
    498          		}
    499          	}	
   \                     ??PCM2PDM_5: (+1)
   \   000000B0   0x1C64             ADDS     R4,R4,#+1
   \   000000B2   0xE7A7             B.N      ??PCM2PDM_0
    500          }
   \                     ??PCM2PDM_1: (+1)
   \   000000B4   0xBC70             POP      {R4-R6}
   \   000000B6   0x4770             BX       LR               ;; return
    501          
    502          /*
    503          PDM = Pulse Density Modulation
    504          PCM - Pulse Code Modulation
    505          convertion from PDM to PCM
    506          http://www.gamedev.net/topic/660509-any-dsp-gurus-pdm-to-pcm-noisealiasingspectral-leakage-problem/
    507          
    508          http://curiouser.cheshireeng.com/2014/11/04/using-a-pdm-microphone/
    509          
    510          https://www.das-labor.org/svn/microcontroller/src-stm32f4xx/serialUSB/Libraries/CMSIS/DSP_Lib/Source/FilteringFunctions/arm_fir_decimate_f32.c
    511          
    512            InBuff length  : 128 bytes
    513            Outbuff length : 16x2 bytes
    514          */
    515          
    516          
    517          

   \                                 In section .text, align 2, keep-with-next
    518          void PDM2PCM(uint8_t *InBuff,int16_t *OutBuff,int16_t PreCalcBuff[DSP_NUMBYTECONV][256])
    519          {
   \                     PDM2PCM: (+1)
   \   00000000   0xE92D 0x4FF2      PUSH     {R1,R4-R11,LR}
   \   00000004   0x0004             MOVS     R4,R0
   \   00000006   0x0015             MOVS     R5,R2
    520              int32_t BuffInPos = -DSP_NUMBYTECONV/2;
   \   00000008   0xF07F 0x0803      MVNS     R8,#+3
    521          	static uint8_t Initial_Array[DSP_NUMBYTECONV/2];
    522          	
    523              for (uint32_t currentSample = 0; currentSample < 16; currentSample++) // go for all the output sample
   \   0000000C   0x2600             MOVS     R6,#+0
   \                     ??PDM2PCM_0: (+1)
   \   0000000E   0x2E10             CMP      R6,#+16
   \   00000010   0xD263             BCS.N    ??PDM2PCM_1
    524          	{                                                                     // 32*16 = 512 bytes of input steam 
    525                  int16_t stSum=0;
   \   00000012   0x2700             MOVS     R7,#+0
    526          //		int16_t coefficientIndex=0;
    527          
    528                    
    529          		/* First half of frame */
    530                  for (uint16_t i = 0; i < DSP_NUMBYTECONV; i++) // DSP_NUMBYTECONV = 8
   \   00000014   0xF05F 0x0900      MOVS     R9,#+0
   \                     ??PDM2PCM_2: (+1)
   \   00000018   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   0000001C   0xF1B9 0x0F08      CMP      R9,#+8
   \   00000020   0xDA24             BGE.N    ??PDM2PCM_3
    531                  {         
    532          
    533                     	int16_t temp,temp1;                        // temporary variable uses for debug, will be removed in future
    534          
    535                      if (BuffInPos < 0)
   \   00000022   0xF1B8 0x0F00      CMP      R8,#+0
   \   00000026   0xD507             BPL.N    ??PDM2PCM_4
    536          				temp1 = Initial_Array[i];
   \   00000028   0x.... 0x....      LDR.W    R0,??DataTable11_19
   \   0000002C   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000030   0xF819 0x0000      LDRB     R0,[R9, R0]
   \   00000034   0x4683             MOV      R11,R0
   \   00000036   0xE002             B.N      ??PDM2PCM_5
    537          			else
    538          			    temp1 = InBuff[BuffInPos];          // stored the value of 1 bytes input which is calculated
   \                     ??PDM2PCM_4: (+1)
   \   00000038   0xF818 0x0004      LDRB     R0,[R8, R4]
   \   0000003C   0x4683             MOV      R11,R0
    539          
    540          				
    541          			temp = (int16_t)PreCalcBuff[i][temp1];        // convolution for 1 bytes which take from the Pre-calculation array
   \                     ??PDM2PCM_5: (+1)
   \   0000003E   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000042   0xF44F 0x7000      MOV      R0,#+512
   \   00000046   0xFB00 0x5009      MLA      R0,R0,R9,R5
   \   0000004A   0xFA0F 0xFB8B      SXTH     R11,R11          ;; SignExt  R11,R11,#+16,#+16
   \   0000004E   0xF930 0x001B      LDRSH    R0,[R0, R11, LSL #+1]
   \   00000052   0x4682             MOV      R10,R0
    542          		
    543                      stSum = ADD_S16(stSum,temp);  //These are the pre-calculated window values
   \   00000054   0x4651             MOV      R1,R10
   \   00000056   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   00000058   0x0038             MOVS     R0,R7
   \   0000005A   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \   0000005C   0x.... 0x....      BL       ADD_S16
   \   00000060   0x0007             MOVS     R7,R0
    544          				
    545                      
    546                      BuffInPos++;  //next byte of the input sample stream:0-->255
   \   00000062   0xF118 0x0801      ADDS     R8,R8,#+1
    547                  }
   \   00000066   0xF119 0x0901      ADDS     R9,R9,#+1
   \   0000006A   0xE7D5             B.N      ??PDM2PCM_2
    548          
    549          		BuffInPos-=DSP_NUMBYTECONV/2;
   \                     ??PDM2PCM_3: (+1)
   \   0000006C   0xF1B8 0x0804      SUBS     R8,R8,#+4
    550          
    551          		/* Second half of frame */
    552                  for (uint16_t i = 0; i < DSP_NUMBYTECONV; i++) // DSP_NUMBYTECONV = 8
   \   00000070   0xF05F 0x0900      MOVS     R9,#+0
   \                     ??PDM2PCM_6: (+1)
   \   00000074   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000078   0xF1B9 0x0F08      CMP      R9,#+8
   \   0000007C   0xDA19             BGE.N    ??PDM2PCM_7
    553                  {         
    554          
    555                     	int16_t temp,temp1;                        // temporary variable uses for debug, will be removed in future
    556          
    557          
    558          			temp1 = InBuff[BuffInPos];          // stored the value of 1 bytes input which is calculated
   \   0000007E   0xF818 0x0004      LDRB     R0,[R8, R4]
   \   00000082   0x4683             MOV      R11,R0
    559          	
    560          			temp = (int16_t)PreCalcBuff[i][temp1];        // convolution for 1 bytes which take from the Pre-calculation array
   \   00000084   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000088   0xF44F 0x7000      MOV      R0,#+512
   \   0000008C   0xFB00 0x5009      MLA      R0,R0,R9,R5
   \   00000090   0xFA0F 0xFB8B      SXTH     R11,R11          ;; SignExt  R11,R11,#+16,#+16
   \   00000094   0xF930 0x001B      LDRSH    R0,[R0, R11, LSL #+1]
   \   00000098   0x4682             MOV      R10,R0
    561          		
    562                      stSum = ADD_S16(stSum,temp);  //These are the pre-calculated window values
   \   0000009A   0x4651             MOV      R1,R10
   \   0000009C   0xB209             SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   0000009E   0x0038             MOVS     R0,R7
   \   000000A0   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \   000000A2   0x.... 0x....      BL       ADD_S16
   \   000000A6   0x0007             MOVS     R7,R0
    563          				
    564                      
    565                      BuffInPos++;  //next byte of the input sample stream:0-->255
   \   000000A8   0xF118 0x0801      ADDS     R8,R8,#+1
    566                  }
   \   000000AC   0xF119 0x0901      ADDS     R9,R9,#+1
   \   000000B0   0xE7E0             B.N      ??PDM2PCM_6
    567          
    568                  OutBuff[currentSample] = (int16_t)stSum;
   \                     ??PDM2PCM_7: (+1)
   \   000000B2   0x9800             LDR      R0,[SP, #+0]
   \   000000B4   0xF820 0x7016      STRH     R7,[R0, R6, LSL #+1]
    569          		
    570          		
    571          
    572          		for (uint16_t i=0; i< (DSP_NUMBYTECONV/2); i++)
   \   000000B8   0x2000             MOVS     R0,#+0
   \                     ??PDM2PCM_8: (+1)
   \   000000BA   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000000BC   0x2804             CMP      R0,#+4
   \   000000BE   0xDA0A             BGE.N    ??PDM2PCM_9
    573          		{
    574                       Initial_Array[i]=InBuff[BuffInPos - 1 - DSP_NUMBYTECONV/2 + i];
   \   000000C0   0xFA18 0xF180      UXTAH    R1,R8,R0
   \   000000C4   0x1909             ADDS     R1,R1,R4
   \   000000C6   0xF811 0x1C05      LDRB     R1,[R1, #-5]
   \   000000CA   0x.... 0x....      LDR.W    R2,??DataTable11_19
   \   000000CE   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000000D0   0x5481             STRB     R1,[R0, R2]
    575          		}
   \   000000D2   0x1C40             ADDS     R0,R0,#+1
   \   000000D4   0xE7F1             B.N      ??PDM2PCM_8
    576              }
   \                     ??PDM2PCM_9: (+1)
   \   000000D6   0x1C76             ADDS     R6,R6,#+1
   \   000000D8   0xE799             B.N      ??PDM2PCM_0
    577          
    578          
    579          	#if 0
    580                 for (int16_t i=0; i<8; i++)
    581          	   {
    582          	       uint8_t test;
    583          	       test= InBuff[currentSample*8 +i];
    584          	       for (uint8_t j=0; j<8;j++)
    585          		   {
    586          		        if ((test & 0x01) == 0x01) 
    587          				{
    588                              stSum += 10;
    589                          }
    590                          else                        
    591          				{
    592                              stSum -= 10;
    593                          }
    594          				
    595          				test >>= 1;
    596          		   }
    597          	   }
    598          
    599          #endif
    600          
    601          }
   \                     ??PDM2PCM_1: (+1)
   \   000000DA   0xE8BD 0x8FF1      POP      {R0,R4-R11,PC}   ;; return

   \                                 In section .bss, align 4
   \                     ??Initial_Array:
   \   00000000                      DS8 4
    602          
    603          //void OverLapAdd (uint8_t *Input, int16_t *Output) //128 bytes input 32 bytes output
    604          //{
    605              
    606          //}
    607          	
    608          
    609          

   \                                 In section .text, align 2, keep-with-next
    610          void Precalculation(float *fir64Coff,int16_t precalculated[129][256])
    611          {
   \                     Precalculation: (+1)
   \   00000000   0xB430             PUSH     {R4,R5}
    612              for (uint8_t i = 0; i < 129; i++)  /* from byte 0th to byth 7th of data input */
   \   00000002   0x2200             MOVS     R2,#+0
   \                     ??Precalculation_0: (+1)
   \   00000004   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   00000006   0x2A81             CMP      R2,#+129
   \   00000008   0xDA61             BGE.N    ??Precalculation_1
    613          	{ 
    614          
    615                  for (uint16_t j = 0; j < 256; j++)    /* list all the cases can happen for the input data */ 
   \   0000000A   0x2300             MOVS     R3,#+0
   \                     ??Precalculation_2: (+1)
   \   0000000C   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   0000000E   0x2BFF             CMP      R3,#+255
   \   00000010   0xDC5B             BGT.N    ??Precalculation_3
    616          		{         
    617                      // check overflow 
    618          			if ((int32_t)(fir64Coff[i]*(j-128)) > 32767)
   \   00000012   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000014   0xF1B3 0x0480      SUBS     R4,R3,#+128
   \   00000018   0xEE00 0x4A10      VMOV     S0,R4
   \   0000001C   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000020   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   00000022   0xEB10 0x0482      ADDS     R4,R0,R2, LSL #+2
   \   00000026   0xEDD4 0x0A00      VLDR     S1,[R4, #0]
   \   0000002A   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   0000002E   0xEEBD 0x0AC0      VCVT.S32.F32 S0,S0
   \   00000032   0xEE10 0x4A10      VMOV     R4,S0
   \   00000036   0xF5B4 0x4F00      CMP      R4,#+32768
   \   0000003A   0xDB0A             BLT.N    ??Precalculation_4
    619          			{
    620                          
    621          				precalculated[i][j] = 32767;
   \   0000003C   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   0000003E   0xF44F 0x7400      MOV      R4,#+512
   \   00000042   0xFB04 0x1402      MLA      R4,R4,R2,R1
   \   00000046   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000048   0xF647 0x75FF      MOVW     R5,#+32767
   \   0000004C   0xF824 0x5013      STRH     R5,[R4, R3, LSL #+1]
   \   00000050   0xE039             B.N      ??Precalculation_5
    622          			}
    623          			else if ((int32_t)(fir64Coff[i]*(j-128)) < -32768)
   \                     ??Precalculation_4: (+1)
   \   00000052   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000054   0xF1B3 0x0480      SUBS     R4,R3,#+128
   \   00000058   0xEE00 0x4A10      VMOV     S0,R4
   \   0000005C   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000060   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   00000062   0xEB10 0x0482      ADDS     R4,R0,R2, LSL #+2
   \   00000066   0xEDD4 0x0A00      VLDR     S1,[R4, #0]
   \   0000006A   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   0000006E   0xEEBD 0x0AC0      VCVT.S32.F32 S0,S0
   \   00000072   0xEE10 0x4A10      VMOV     R4,S0
   \   00000076   0xF514 0x4F00      CMN      R4,#+32768
   \   0000007A   0xDA0A             BGE.N    ??Precalculation_6
    624          			{
    625                          precalculated[i][j] = -32768;
   \   0000007C   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   0000007E   0xF44F 0x7400      MOV      R4,#+512
   \   00000082   0xFB04 0x1402      MLA      R4,R4,R2,R1
   \   00000086   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000088   0x.... 0x....      LDR.W    R5,??DataTable11_20  ;; 0xffff8000
   \   0000008C   0xF824 0x5013      STRH     R5,[R4, R3, LSL #+1]
   \   00000090   0xE019             B.N      ??Precalculation_5
    626          			}
    627          			else
    628          			{
    629                          precalculated[i][j] = (int16_t)(fir64Coff[i]*(j-128));
   \                     ??Precalculation_6: (+1)
   \   00000092   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   00000094   0xF44F 0x7400      MOV      R4,#+512
   \   00000098   0xFB04 0x1402      MLA      R4,R4,R2,R1
   \   0000009C   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   0000009E   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   000000A0   0xF1B3 0x0580      SUBS     R5,R3,#+128
   \   000000A4   0xEE00 0x5A10      VMOV     S0,R5
   \   000000A8   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   000000AC   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   000000AE   0xEB10 0x0582      ADDS     R5,R0,R2, LSL #+2
   \   000000B2   0xEDD5 0x0A00      VLDR     S1,[R5, #0]
   \   000000B6   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   000000BA   0xEEBD 0x0AC0      VCVT.S32.F32 S0,S0
   \   000000BE   0xEE10 0x5A10      VMOV     R5,S0
   \   000000C2   0xF824 0x5013      STRH     R5,[R4, R3, LSL #+1]
    630          			}
    631                  }
   \                     ??Precalculation_5: (+1)
   \   000000C6   0x1C5B             ADDS     R3,R3,#+1
   \   000000C8   0xE7A0             B.N      ??Precalculation_2
    632              }
   \                     ??Precalculation_3: (+1)
   \   000000CA   0x1C52             ADDS     R2,R2,#+1
   \   000000CC   0xE79A             B.N      ??Precalculation_0
    633          }
   \                     ??Precalculation_1: (+1)
   \   000000CE   0xBC30             POP      {R4,R5}
   \   000000D0   0x4770             BX       LR               ;; return
    634          
    635          
    636          /************************************************************************************************ 
    637          Fc: Cutoff Frequency
    638          Fs: Sample Rate
    639          M: filter length
    640          *************************************************************************************************/
    641          

   \                                 In section .text, align 4, keep-with-next
    642          float lowpassFIR(float * firBuffer,uint64_t M,uint64_t Fs,uint64_t Fc)
    643          {    
   \                     lowpassFIR: (+1)
   \   00000000   0xE92D 0x4DF0      PUSH     {R4-R8,R10,R11,LR}
   \   00000004   0xED2D 0x8B06      VPUSH    {D8-D10}
   \   00000008   0xB082             SUB      SP,SP,#+8
   \   0000000A   0x4680             MOV      R8,R0
   \   0000000C   0x0016             MOVS     R6,R2
   \   0000000E   0x001F             MOVS     R7,R3
   \   00000010   0xE9DD 0xAB12      LDRD     R10,R11,[SP, #+72]
    644              M = M -1;
   \   00000014   0x1E76             SUBS     R6,R6,#+1
   \   00000016   0xF177 0x0700      SBCS     R7,R7,#+0
    645          	
    646              float Ft = (float)Fc / (float)Fs;
   \   0000001A   0x4650             MOV      R0,R10
   \   0000001C   0x4659             MOV      R1,R11
   \   0000001E   0x.... 0x....      BL       __aeabi_ul2f
   \   00000022   0xEE08 0x0A10      VMOV     S16,R0
   \   00000026   0xE9DD 0x0110      LDRD     R0,R1,[SP, #+64]
   \   0000002A   0x.... 0x....      BL       __aeabi_ul2f
   \   0000002E   0xEE00 0x0A10      VMOV     S0,R0
   \   00000032   0xEEC8 0x8A00      VDIV.F32 S17,S16,S0
    647          
    648          
    649              float sum = 0.0f;
   \   00000036   0xED9F 0x....      VLDR.W   S16,??DataTable10_2  ;; 0x0
    650              
    651              for (uint64_t i = 0; i < M; i++) 
   \   0000003A   0x2400             MOVS     R4,#+0
   \   0000003C   0x2500             MOVS     R5,#+0
   \                     ??lowpassFIR_0: (+1)
   \   0000003E   0x42BD             CMP      R5,R7
   \   00000040   0xF200 0x8091      BHI.W    ??lowpassFIR_1
   \   00000044   0xD302             BCC.N    ??lowpassFIR_2
   \   00000046   0x42B4             CMP      R4,R6
   \   00000048   0xF080 0x808D      BCS.W    ??lowpassFIR_1
    652          	{
    653                  if (i != ((float)M / 2)) 
   \                     ??lowpassFIR_2: (+1)
   \   0000004C   0x0020             MOVS     R0,R4
   \   0000004E   0x0029             MOVS     R1,R5
   \   00000050   0x.... 0x....      BL       __aeabi_ul2f
   \   00000054   0xEE09 0x0A10      VMOV     S18,R0
   \   00000058   0x0030             MOVS     R0,R6
   \   0000005A   0x0039             MOVS     R1,R7
   \   0000005C   0x.... 0x....      BL       __aeabi_ul2f
   \   00000060   0xEE00 0x0A10      VMOV     S0,R0
   \   00000064   0xEEF0 0x0A00      VMOV.F32 S1,#2.0
   \   00000068   0xEE80 0x0A20      VDIV.F32 S0,S0,S1
   \   0000006C   0xEEB4 0x9A40      VCMP.F32 S18,S0
   \   00000070   0xEEF1 0xFA10      FMSTAT   
   \   00000074   0xD05F             BEQ.N    ??lowpassFIR_3
    654          		{
    655                      firBuffer[i] *= sin(2*PI*Ft*(i - ((float)M / 2))) / 
    656          			                (PI * (i - ((float)M / 2)));
   \   00000076   0xEE18 0x0A90      VMOV     R0,S17
   \   0000007A   0x.... 0x....      BL       __aeabi_f2d
   \   0000007E   0x0002             MOVS     R2,R0
   \   00000080   0x000B             MOVS     R3,R1
   \   00000082   0x....             LDR.N    R0,??DataTable10  ;; 0x5a7ed197
   \   00000084   0x....             LDR.N    R1,??DataTable10_1  ;; 0x401921fb
   \   00000086   0x.... 0x....      BL       __aeabi_dmul
   \   0000008A   0xE9CD 0x0100      STRD     R0,R1,[SP, #+0]
   \   0000008E   0x0020             MOVS     R0,R4
   \   00000090   0x0029             MOVS     R1,R5
   \   00000092   0x.... 0x....      BL       __aeabi_ul2f
   \   00000096   0xEE09 0x0A10      VMOV     S18,R0
   \   0000009A   0x0030             MOVS     R0,R6
   \   0000009C   0x0039             MOVS     R1,R7
   \   0000009E   0x.... 0x....      BL       __aeabi_ul2f
   \   000000A2   0xEE00 0x0A10      VMOV     S0,R0
   \   000000A6   0xEEF0 0x0A00      VMOV.F32 S1,#2.0
   \   000000AA   0xEE80 0x0A20      VDIV.F32 S0,S0,S1
   \   000000AE   0xEE39 0x0A40      VSUB.F32 S0,S18,S0
   \   000000B2   0xEE10 0x0A10      VMOV     R0,S0
   \   000000B6   0x.... 0x....      BL       __aeabi_f2d
   \   000000BA   0xE9DD 0x2300      LDRD     R2,R3,[SP, #+0]
   \   000000BE   0x.... 0x....      BL       __aeabi_dmul
   \   000000C2   0xEC41 0x0B10      VMOV     D0,R0,R1
   \   000000C6   0x.... 0x....      BL       sin
   \   000000CA   0xEEB0 0x9A40      VMOV.F32 S18,S0
   \   000000CE   0xEEF0 0x9A60      VMOV.F32 S19,S1
   \   000000D2   0xF858 0x0024      LDR      R0,[R8, R4, LSL #+2]
   \   000000D6   0x.... 0x....      BL       __aeabi_f2d
   \   000000DA   0xE9CD 0x0100      STRD     R0,R1,[SP, #+0]
   \   000000DE   0x0020             MOVS     R0,R4
   \   000000E0   0x0029             MOVS     R1,R5
   \   000000E2   0x.... 0x....      BL       __aeabi_ul2f
   \   000000E6   0xEE0A 0x0A10      VMOV     S20,R0
   \   000000EA   0x0030             MOVS     R0,R6
   \   000000EC   0x0039             MOVS     R1,R7
   \   000000EE   0x.... 0x....      BL       __aeabi_ul2f
   \   000000F2   0xEE00 0x0A10      VMOV     S0,R0
   \   000000F6   0xEEF0 0x0A00      VMOV.F32 S1,#2.0
   \   000000FA   0xEE80 0x0A20      VDIV.F32 S0,S0,S1
   \   000000FE   0xEE3A 0x0A40      VSUB.F32 S0,S20,S0
   \   00000102   0xEE10 0x0A10      VMOV     R0,S0
   \   00000106   0x.... 0x....      BL       __aeabi_f2d
   \   0000010A   0x....             LDR.N    R2,??DataTable10  ;; 0x5a7ed197
   \   0000010C   0x.... 0x....      LDR.W    R3,??DataTable11_21  ;; 0x400921fb
   \   00000110   0x.... 0x....      BL       __aeabi_dmul
   \   00000114   0x0002             MOVS     R2,R0
   \   00000116   0x000B             MOVS     R3,R1
   \   00000118   0xEC51 0x0B19      VMOV     R0,R1,D9
   \   0000011C   0x.... 0x....      BL       __aeabi_ddiv
   \   00000120   0x0002             MOVS     R2,R0
   \   00000122   0x000B             MOVS     R3,R1
   \   00000124   0xE9DD 0x0100      LDRD     R0,R1,[SP, #+0]
   \   00000128   0x.... 0x....      BL       __aeabi_dmul
   \   0000012C   0x.... 0x....      BL       __aeabi_d2f
   \   00000130   0xF848 0x0024      STR      R0,[R8, R4, LSL #+2]
   \   00000134   0xE00D             B.N      ??lowpassFIR_4
    657                  }
    658                  else 
    659          		{
    660                      firBuffer[i] *= 2* Ft;
   \                     ??lowpassFIR_3: (+1)
   \   00000136   0xEEB0 0x0A00      VMOV.F32 S0,#2.0
   \   0000013A   0xEE28 0x0A80      VMUL.F32 S0,S17,S0
   \   0000013E   0xEB18 0x0084      ADDS     R0,R8,R4, LSL #+2
   \   00000142   0xEDD0 0x0A00      VLDR     S1,[R0, #0]
   \   00000146   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   0000014A   0xEB18 0x0084      ADDS     R0,R8,R4, LSL #+2
   \   0000014E   0xED80 0x0A00      VSTR     S0,[R0, #0]
    661                  }
    662                  
    663                  sum += firBuffer[i];     
   \                     ??lowpassFIR_4: (+1)
   \   00000152   0xEB18 0x0084      ADDS     R0,R8,R4, LSL #+2
   \   00000156   0xED90 0x0A00      VLDR     S0,[R0, #0]
   \   0000015A   0xEE38 0x8A00      VADD.F32 S16,S16,S0
    664              }
   \   0000015E   0x1C64             ADDS     R4,R4,#+1
   \   00000160   0xF155 0x0500      ADCS     R5,R5,#+0
   \   00000164   0xE76B             B.N      ??lowpassFIR_0
    665              
    666          	return sum;
   \                     ??lowpassFIR_1: (+1)
   \   00000166   0xEEB0 0x0A48      VMOV.F32 S0,S16
   \   0000016A   0xB002             ADD      SP,SP,#+8
   \   0000016C   0xECBD 0x8B06      VPOP     {D8-D10}
   \   00000170   0xE8BD 0x8DF0      POP      {R4-R8,R10,R11,PC}  ;; return
    667          }
    668          
    669          /* */
    670          

   \                                 In section .text, align 2, keep-with-next
    671          int8_t CrssCor(int16_t * vDataIn1, int16_t * vDataIn2, uint16_t numLen )
    672          {
   \                     CrssCor: (+1)
   \   00000000   0xE92D 0x43F0      PUSH     {R4-R9,LR}
   \   00000004   0x4686             MOV      LR,R0
   \   00000006   0x000E             MOVS     R6,R1
   \   00000008   0x0017             MOVS     R7,R2
    673              static int16_t vDataIn1Old, vDataIn2Old;
                                    ^
Warning[Pe177]: variable "vDataIn1Old" was declared but never referenced

      static int16_t vDataIn1Old, vDataIn2Old;
                                  ^
"H:\PhanLeSon\ActivNoise\Microphone\F7\Mic_Array_Project\Mic_Array\Projects\STM32746G\Applications\Audio\Mic_Array\Src\DSP.c",673  Warning[Pe177]: 
          variable "vDataIn2Old" was declared but never referenced
    674              int64_t Sum, SumMax;
    675          	int8_t idxPos;
    676          #if 0
    677          	int16_t *vDataIn1Out = malloc(sizeof(int16_t)*numLen);
    678          	int16_t *vDataIn2Out = malloc(sizeof(int16_t)*numLen);
    679          #endif
    680          
    681              SumMax=0;
   \   0000000A   0x2000             MOVS     R0,#+0
   \   0000000C   0x2100             MOVS     R1,#+0
   \   0000000E   0x0004             MOVS     R4,R0
   \   00000010   0x000D             MOVS     R5,R1
    682              Sum=0;
   \   00000012   0x2000             MOVS     R0,#+0
   \   00000014   0x2100             MOVS     R1,#+0
   \   00000016   0x0002             MOVS     R2,R0
   \   00000018   0x000B             MOVS     R3,R1
    683          #if 0	
    684          	LowPassIIR(vDataIn1,vDataIn1Out ,&vDataIn1Old, numLen,8);
    685          	LowPassIIR(vDataIn2,vDataIn2Out ,&vDataIn2Old, numLen,8);
    686          #endif
    687              for (int8_t i=-8;i<8;i++)
   \   0000001A   0xF07F 0x0C07      MVNS     R12,#+7
   \                     ??CrssCor_0: (+1)
   \   0000001E   0xFA4F 0xFC8C      SXTB     R12,R12          ;; SignExt  R12,R12,#+24,#+24
   \   00000022   0xF1BC 0x0F08      CMP      R12,#+8
   \   00000026   0xDA56             BGE.N    ??CrssCor_1
    688              {
    689                 Sum = 0;
   \   00000028   0x2000             MOVS     R0,#+0
   \   0000002A   0x2100             MOVS     R1,#+0
   \   0000002C   0x0002             MOVS     R2,R0
   \   0000002E   0x000B             MOVS     R3,R1
    690          	   if (i>=0)
   \   00000030   0xFA4F 0xFC8C      SXTB     R12,R12          ;; SignExt  R12,R12,#+24,#+24
   \   00000034   0xF1BC 0x0F00      CMP      R12,#+0
   \   00000038   0xD41B             BMI.N    ??CrssCor_2
    691          	   {
    692          	       for(uint16_t j=0;j<numLen;j++)
   \   0000003A   0xF05F 0x0900      MOVS     R9,#+0
   \                     ??CrssCor_3: (+1)
   \   0000003E   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000042   0xB2BF             UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   00000044   0x45B9             CMP      R9,R7
   \   00000046   0xD232             BCS.N    ??CrssCor_4
    693          	       {
    694          	           Sum += vDataIn1[j+i]*vDataIn2[j]/numLen;   
   \   00000048   0xFA4F 0xFC8C      SXTB     R12,R12          ;; SignExt  R12,R12,#+24,#+24
   \   0000004C   0xFA1C 0xF089      UXTAH    R0,R12,R9
   \   00000050   0xF93E 0x0010      LDRSH    R0,[LR, R0, LSL #+1]
   \   00000054   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000058   0xF936 0x1019      LDRSH    R1,[R6, R9, LSL #+1]
   \   0000005C   0xFB10 0xF001      SMULBB   R0,R0,R1
   \   00000060   0xB2BF             UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   00000062   0xFB90 0xF0F7      SDIV     R0,R0,R7
   \   00000066   0x17C1             ASRS     R1,R0,#+31
   \   00000068   0x1812             ADDS     R2,R2,R0
   \   0000006A   0x414B             ADCS     R3,R3,R1
    695          	       }
   \   0000006C   0xF119 0x0901      ADDS     R9,R9,#+1
   \   00000070   0xE7E5             B.N      ??CrssCor_3
    696                                      
    697          	   }
    698          	   else
    699          	   {
    700                     for(uint16_t j=0;j<numLen;j++)
   \                     ??CrssCor_2: (+1)
   \   00000072   0xF05F 0x0900      MOVS     R9,#+0
   \                     ??CrssCor_5: (+1)
   \   00000076   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   0000007A   0xB2BF             UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   0000007C   0x45B9             CMP      R9,R7
   \   0000007E   0xD216             BCS.N    ??CrssCor_4
    701          	       {
    702          	           Sum += vDataIn1[j]*vDataIn2[j-i]/numLen;   
   \   00000080   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000084   0xF93E 0x0019      LDRSH    R0,[LR, R9, LSL #+1]
   \   00000088   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   0000008C   0xFA4F 0xFC8C      SXTB     R12,R12          ;; SignExt  R12,R12,#+24,#+24
   \   00000090   0xEBB9 0x010C      SUBS     R1,R9,R12
   \   00000094   0xF936 0x1011      LDRSH    R1,[R6, R1, LSL #+1]
   \   00000098   0xFB10 0xF001      SMULBB   R0,R0,R1
   \   0000009C   0xB2BF             UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   0000009E   0xFB90 0xF0F7      SDIV     R0,R0,R7
   \   000000A2   0x17C1             ASRS     R1,R0,#+31
   \   000000A4   0x1812             ADDS     R2,R2,R0
   \   000000A6   0x414B             ADCS     R3,R3,R1
    703          	       }
   \   000000A8   0xF119 0x0901      ADDS     R9,R9,#+1
   \   000000AC   0xE7E3             B.N      ??CrssCor_5
    704          	   }
    705          
    706          	   if (Sum > SumMax) 
   \                     ??CrssCor_4: (+1)
   \   000000AE   0x429D             CMP      R5,R3
   \   000000B0   0xDC0E             BGT.N    ??CrssCor_6
   \   000000B2   0xDB01             BLT.N    ??CrssCor_7
   \   000000B4   0x4294             CMP      R4,R2
   \   000000B6   0xD20B             BCS.N    ??CrssCor_6
    707          	   {
    708          	       SumMax = Sum;  	
   \                     ??CrssCor_7: (+1)
   \   000000B8   0x0014             MOVS     R4,R2
   \   000000BA   0x001D             MOVS     R5,R3
    709          	       idxPos = i;
   \   000000BC   0x46E0             MOV      R8,R12
    710          		   EnergySound = (uint32_t)((SumMax>>16));
   \   000000BE   0x0020             MOVS     R0,R4
   \   000000C0   0x0029             MOVS     R1,R5
   \   000000C2   0x0C00             LSRS     R0,R0,#+16
   \   000000C4   0xEA40 0x4001      ORR      R0,R0,R1, LSL #+16
   \   000000C8   0x1409             ASRS     R1,R1,#+16
   \   000000CA   0x.... 0x....      LDR.W    R1,??DataTable11_22
   \   000000CE   0x6008             STR      R0,[R1, #+0]
    711          	   }
    712          	         
    713              }
   \                     ??CrssCor_6: (+1)
   \   000000D0   0xF11C 0x0C01      ADDS     R12,R12,#+1
   \   000000D4   0xE7A3             B.N      ??CrssCor_0
    714          #if 0
    715              free(vDataIn1Out);
    716          	free(vDataIn2Out);
    717          #endif
    718          
    719              if((idxPos<-7)||(idxPos>6)) return 0;
   \                     ??CrssCor_1: (+1)
   \   000000D6   0xFA4F 0xF888      SXTB     R8,R8            ;; SignExt  R8,R8,#+24,#+24
   \   000000DA   0xF118 0x0F07      CMN      R8,#+7
   \   000000DE   0xDB04             BLT.N    ??CrssCor_8
   \   000000E0   0xFA4F 0xF888      SXTB     R8,R8            ;; SignExt  R8,R8,#+24,#+24
   \   000000E4   0xF1B8 0x0F07      CMP      R8,#+7
   \   000000E8   0xDB01             BLT.N    ??CrssCor_9
   \                     ??CrssCor_8: (+1)
   \   000000EA   0x2000             MOVS     R0,#+0
   \   000000EC   0xE001             B.N      ??CrssCor_10
    720          	
    721              return idxPos;
   \                     ??CrssCor_9: (+1)
   \   000000EE   0x4640             MOV      R0,R8
   \   000000F0   0xB240             SXTB     R0,R0            ;; SignExt  R0,R0,#+24,#+24
   \                     ??CrssCor_10: (+1)
   \   000000F2   0xE8BD 0x83F0      POP      {R4-R9,PC}       ;; return
    722          }
    723          
    724          
    725          /*****************************************************************************************************
    726          CROSSCORRELATION---------------------------------------------------------------------------------------
    727          
    728          	function	Out = crsscorr_local(Z,X) 
    729          	%this function computes autocorrelation
    730          	 
    731          		N = round(length(X));
    732          		%WIN = hanning(N);
    733          		x = [X;ones(N,1)];
    734          		z = [Z;ones(N,1)];
    735          		
    736          		Out = zeros(N,1);
    737          		
    738          		for index=1:16 %N but optimize to 16  
    739          			Out(index)=sum(z(index:index+N-1).* x(1:N))/(N);
    740          		end
    741          	end
    742          
    743          *******************************************************************************************************/
    744          

   \                                 In section .text, align 2, keep-with-next
    745          void Std_CrssCor(int16_t * vDataIn1, int16_t * vDataIn2, float *Out,uint16_t numLen )
    746          {
   \                     Std_CrssCor: (+1)
   \   00000000   0xB4F0             PUSH     {R4-R7}
    747          
    748              for (uint16_t i=0;i<numLen;i++)
   \   00000002   0x2400             MOVS     R4,#+0
   \                     ??Std_CrssCor_0: (+1)
   \   00000004   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000006   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000008   0x429C             CMP      R4,R3
   \   0000000A   0xD227             BCS.N    ??Std_CrssCor_1
    749              {
    750                 Out = 0;
   \   0000000C   0x2500             MOVS     R5,#+0
   \   0000000E   0x002A             MOVS     R2,R5
    751                 for(uint16_t j=0;j<numLen;j++)
   \   00000010   0x2500             MOVS     R5,#+0
   \                     ??Std_CrssCor_2: (+1)
   \   00000012   0xB2AD             UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   00000014   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000016   0x429D             CMP      R5,R3
   \   00000018   0xD21E             BCS.N    ??Std_CrssCor_3
    752                 {
    753                     Out[i] += vDataIn1[j+i]*vDataIn2[j]/numLen;   
   \   0000001A   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   0000001C   0xFA14 0xF685      UXTAH    R6,R4,R5
   \   00000020   0xF930 0x6016      LDRSH    R6,[R0, R6, LSL #+1]
   \   00000024   0xB2AD             UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   00000026   0xF931 0x7015      LDRSH    R7,[R1, R5, LSL #+1]
   \   0000002A   0xFB16 0xF607      SMULBB   R6,R6,R7
   \   0000002E   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000030   0xFB96 0xF6F3      SDIV     R6,R6,R3
   \   00000034   0xEE00 0x6A10      VMOV     S0,R6
   \   00000038   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   0000003C   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   0000003E   0xEB12 0x0684      ADDS     R6,R2,R4, LSL #+2
   \   00000042   0xEDD6 0x0A00      VLDR     S1,[R6, #0]
   \   00000046   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   0000004A   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   0000004C   0xEB12 0x0684      ADDS     R6,R2,R4, LSL #+2
   \   00000050   0xED86 0x0A00      VSTR     S0,[R6, #0]
    754                 }       
   \   00000054   0x1C6D             ADDS     R5,R5,#+1
   \   00000056   0xE7DC             B.N      ??Std_CrssCor_2
    755              }
   \                     ??Std_CrssCor_3: (+1)
   \   00000058   0x1C64             ADDS     R4,R4,#+1
   \   0000005A   0xE7D3             B.N      ??Std_CrssCor_0
    756          
    757          }
   \                     ??Std_CrssCor_1: (+1)
   \   0000005C   0xBCF0             POP      {R4-R7}
   \   0000005E   0x4770             BX       LR               ;; return
    758          
    759          /*********************************************************************************************************
    760          function y=atcorr(X) %this function computes autocorrelation
    761              K = round(length(X)/2);
    762              x = X;
    763              y = zeros(K,1);
    764              for index=1:K
    765                  y(index) = sum(x(index:index+K-1).* x(1:K))/(K);
    766              end
    767          end
    768          **********************************************************************************************************/
    769          

   \                                 In section .text, align 2, keep-with-next
    770           void Std_AutoCorr(int16_t * vDataIn,float *Out, uint16_t numLen )
    771          {
   \                     Std_AutoCorr: (+1)
   \   00000000   0xB470             PUSH     {R4-R6}
    772              for (uint16_t i=0;i<numLen;i++)
   \   00000002   0x2300             MOVS     R3,#+0
   \                     ??Std_AutoCorr_0: (+1)
   \   00000004   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000006   0xB292             UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   00000008   0x4293             CMP      R3,R2
   \   0000000A   0xD229             BCS.N    ??Std_AutoCorr_1
    773              {
    774                 Out[i] = 0;
   \   0000000C   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   0000000E   0x2400             MOVS     R4,#+0
   \   00000010   0xF841 0x4023      STR      R4,[R1, R3, LSL #+2]
    775                 for(uint16_t j=0;j<numLen;j++)
   \   00000014   0x2400             MOVS     R4,#+0
   \                     ??Std_AutoCorr_2: (+1)
   \   00000016   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000018   0xB292             UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   0000001A   0x4294             CMP      R4,R2
   \   0000001C   0xD21E             BCS.N    ??Std_AutoCorr_3
    776                 {
    777                     Out[i] += vDataIn[j+i]*vDataIn[j]/numLen;   
   \   0000001E   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000020   0xFA13 0xF584      UXTAH    R5,R3,R4
   \   00000024   0xF930 0x5015      LDRSH    R5,[R0, R5, LSL #+1]
   \   00000028   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   0000002A   0xF930 0x6014      LDRSH    R6,[R0, R4, LSL #+1]
   \   0000002E   0xFB15 0xF506      SMULBB   R5,R5,R6
   \   00000032   0xB292             UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   00000034   0xFB95 0xF5F2      SDIV     R5,R5,R2
   \   00000038   0xEE00 0x5A10      VMOV     S0,R5
   \   0000003C   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000040   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000042   0xEB11 0x0583      ADDS     R5,R1,R3, LSL #+2
   \   00000046   0xEDD5 0x0A00      VLDR     S1,[R5, #0]
   \   0000004A   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   0000004E   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000050   0xEB11 0x0583      ADDS     R5,R1,R3, LSL #+2
   \   00000054   0xED85 0x0A00      VSTR     S0,[R5, #0]
    778                 }       
   \   00000058   0x1C64             ADDS     R4,R4,#+1
   \   0000005A   0xE7DC             B.N      ??Std_AutoCorr_2
    779              }
   \                     ??Std_AutoCorr_3: (+1)
   \   0000005C   0x1C5B             ADDS     R3,R3,#+1
   \   0000005E   0xE7D1             B.N      ??Std_AutoCorr_0
    780          }
   \                     ??Std_AutoCorr_1: (+1)
   \   00000060   0xBC70             POP      {R4-R6}
   \   00000062   0x4770             BX       LR               ;; return
    781          
    782          /**********************************************************************************************************
    783          -----------------------------Covarian Matrix setup---------------------------------------------------------
    784          function Out = CorrMatFn(x)
    785              Out = zeros(length(x),length(x));
    786              for i=1:length(x)
    787                  for j=1:length(x)
    788                     if (j>=i)
    789                         Out(i,j) = x(j - i +1);  
    790                     else
    791                         Out(i,j) = x(i-j + 1);  
    792                     end
    793                  end
    794              end 
    795          end
    796          *************************************************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    797          void Std_MatCorr(int16_t* vDataIn, float *Out, uint16_t numLen)
    798          {
   \                     Std_MatCorr: (+1)
   \   00000000   0xB470             PUSH     {R4-R6}
    799              for (uint16_t i=0;i<numLen;i++)
   \   00000002   0x2300             MOVS     R3,#+0
   \                     ??Std_MatCorr_0: (+1)
   \   00000004   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000006   0xB292             UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   00000008   0x4293             CMP      R3,R2
   \   0000000A   0xD231             BCS.N    ??Std_MatCorr_1
    800              {
    801                 
    802                 for(uint16_t j=0;j<numLen;j++)
   \   0000000C   0x2400             MOVS     R4,#+0
   \                     ??Std_MatCorr_2: (+1)
   \   0000000E   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000010   0xB292             UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   00000012   0x4294             CMP      R4,R2
   \   00000014   0xD22A             BCS.N    ??Std_MatCorr_3
    803                 {
    804                     if (j>=i)
   \   00000016   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000018   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   0000001A   0x429C             CMP      R4,R3
   \   0000001C   0xD312             BCC.N    ??Std_MatCorr_4
    805                         Out[i*numLen +j] = vDataIn[j-i]; 
   \   0000001E   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000020   0xB292             UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   00000022   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000024   0xFB02 0x4503      MLA      R5,R2,R3,R4
   \   00000028   0xEB11 0x0585      ADDS     R5,R1,R5, LSL #+2
   \   0000002C   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   0000002E   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000030   0x1AE6             SUBS     R6,R4,R3
   \   00000032   0xF930 0x6016      LDRSH    R6,[R0, R6, LSL #+1]
   \   00000036   0xEE00 0x6A10      VMOV     S0,R6
   \   0000003A   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   0000003E   0xED85 0x0A00      VSTR     S0,[R5, #0]
   \   00000042   0xE011             B.N      ??Std_MatCorr_5
    806          		   else
    807          		   	   Out[i*numLen +j] = vDataIn[i-j];
   \                     ??Std_MatCorr_4: (+1)
   \   00000044   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000046   0xB292             UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   00000048   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   0000004A   0xFB02 0x4503      MLA      R5,R2,R3,R4
   \   0000004E   0xEB11 0x0585      ADDS     R5,R1,R5, LSL #+2
   \   00000052   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000054   0xB2A4             UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000056   0x1B1E             SUBS     R6,R3,R4
   \   00000058   0xF930 0x6016      LDRSH    R6,[R0, R6, LSL #+1]
   \   0000005C   0xEE00 0x6A10      VMOV     S0,R6
   \   00000060   0xEEB8 0x0AC0      VCVT.F32.S32 S0,S0
   \   00000064   0xED85 0x0A00      VSTR     S0,[R5, #0]
    808          		   	
    809                 }       
   \                     ??Std_MatCorr_5: (+1)
   \   00000068   0x1C64             ADDS     R4,R4,#+1
   \   0000006A   0xE7D0             B.N      ??Std_MatCorr_2
    810              }
   \                     ??Std_MatCorr_3: (+1)
   \   0000006C   0x1C5B             ADDS     R3,R3,#+1
   \   0000006E   0xE7C9             B.N      ??Std_MatCorr_0
    811          
    812          }
   \                     ??Std_MatCorr_1: (+1)
   \   00000070   0xBC70             POP      {R4-R6}
   \   00000072   0x4770             BX       LR               ;; return
    813          
    814          
    815          
    816          /************************************************************************************************************
    817          -----------------------------Summing in Fourier Domain-------------------------------------------------------
    818          
    819          *************************************************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    820          void Delay_Sum_FFT(const Mic_Array_Data * MicData, Mic_Array_Coef_f *coefMics,int16_t * stBufOut, int16_t lenFFT)
    821          {
   \                     Delay_Sum_FFT: (+1)
   \   00000000   0xE92D 0x43F8      PUSH     {R3-R9,LR}
   \   00000004   0xED2D 0x8B02      VPUSH    {D8}
   \   00000008   0x0004             MOVS     R4,R0
   \   0000000A   0x000D             MOVS     R5,R1
   \   0000000C   0x0016             MOVS     R6,R2
   \   0000000E   0x001F             MOVS     R7,R3
    822               int32_t         _value,_value1,_value2;
    823              
    824          	for (uint16_t iFrm=0;iFrm<AUDIO_OUT_BUFFER_SIZE/(2*lenFFT);iFrm++)
   \   00000010   0xF05F 0x0900      MOVS     R9,#+0
   \                     ??Delay_Sum_FFT_0: (+1)
   \   00000014   0xF44F 0x6080      MOV      R0,#+1024
   \   00000018   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   0000001A   0x0079             LSLS     R1,R7,#+1
   \   0000001C   0xFB90 0xF0F1      SDIV     R0,R0,R1
   \   00000020   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000024   0x4581             CMP      R9,R0
   \   00000026   0xF280 0x80E7      BGE.W    ??Delay_Sum_FFT_1
    825          	{
    826                    RFFT_INT(MicData->bufMIC1,S1,DataFFT.bufMIC1);  
   \   0000002A   0x2000             MOVS     R0,#+0
   \                     ??Delay_Sum_FFT_2: (+1)
   \   0000002C   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   0000002E   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   00000030   0x42B8             CMP      R0,R7
   \   00000032   0xDA19             BGE.N    ??Delay_Sum_FFT_3
   \   00000034   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000038   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   0000003A   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   0000003C   0xFB07 0x0109      MLA      R1,R7,R9,R0
   \   00000040   0xF934 0x1011      LDRSH    R1,[R4, R1, LSL #+1]
   \   00000044   0xEE00 0x1A10      VMOV     S0,R1
   \   00000048   0xEEB0 0x8A40      VMOV.F32 S16,S0
   \   0000004C   0xEEB8 0x0AC8      VCVT.F32.S32 S0,S16
   \   00000050   0xEEF7 0x0A00      VMOV.F32 S1,#1.0
   \   00000054   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   00000058   0x....             LDR.N    R1,??DataTable11_23
   \   0000005A   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   0000005C   0xEB11 0x0180      ADDS     R1,R1,R0, LSL #+2
   \   00000060   0xED81 0x0A00      VSTR     S0,[R1, #0]
   \   00000064   0x1C40             ADDS     R0,R0,#+1
   \   00000066   0xE7E1             B.N      ??Delay_Sum_FFT_2
   \                     ??Delay_Sum_FFT_3: (+1)
   \   00000068   0x....             LDR.N    R2,??DataTable11_24
   \   0000006A   0x....             LDR.N    R1,??DataTable11_23
   \   0000006C   0x....             LDR.N    R0,??DataTable11_25
   \   0000006E   0x.... 0x....      BL       arm_rfft_f32
    827                    RFFT_INT(MicData->bufMIC2,S2,DataFFT.bufMIC2);
   \   00000072   0x2000             MOVS     R0,#+0
   \                     ??Delay_Sum_FFT_4: (+1)
   \   00000074   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000076   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   00000078   0x42B8             CMP      R0,R7
   \   0000007A   0xDA1C             BGE.N    ??Delay_Sum_FFT_5
   \   0000007C   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000080   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   00000082   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000084   0xFB07 0x0109      MLA      R1,R7,R9,R0
   \   00000088   0xEB14 0x0141      ADDS     R1,R4,R1, LSL #+1
   \   0000008C   0xF241 0x0214      MOVW     R2,#+4116
   \   00000090   0x5E51             LDRSH    R1,[R2, R1]
   \   00000092   0xEE00 0x1A10      VMOV     S0,R1
   \   00000096   0xEEB0 0x8A40      VMOV.F32 S16,S0
   \   0000009A   0xEEB8 0x0AC8      VCVT.F32.S32 S0,S16
   \   0000009E   0xEEF7 0x0A00      VMOV.F32 S1,#1.0
   \   000000A2   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   000000A6   0x....             LDR.N    R1,??DataTable11_23
   \   000000A8   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000000AA   0xEB11 0x0180      ADDS     R1,R1,R0, LSL #+2
   \   000000AE   0xED81 0x0A00      VSTR     S0,[R1, #0]
   \   000000B2   0x1C40             ADDS     R0,R0,#+1
   \   000000B4   0xE7DE             B.N      ??Delay_Sum_FFT_4
   \                     ??Delay_Sum_FFT_5: (+1)
   \   000000B6   0x....             LDR.N    R2,??DataTable11_26
   \   000000B8   0x....             LDR.N    R1,??DataTable11_23
   \   000000BA   0x....             LDR.N    R0,??DataTable11_27
   \   000000BC   0x.... 0x....      BL       arm_rfft_f32
    828                    RFFT_INT(MicData->bufMIC3,S3,DataFFT.bufMIC3);
   \   000000C0   0x2000             MOVS     R0,#+0
   \                     ??Delay_Sum_FFT_6: (+1)
   \   000000C2   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000000C4   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   000000C6   0x42B8             CMP      R0,R7
   \   000000C8   0xDA1C             BGE.N    ??Delay_Sum_FFT_7
   \   000000CA   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   000000CE   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   000000D0   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000000D2   0xFB07 0x0109      MLA      R1,R7,R9,R0
   \   000000D6   0xEB14 0x0141      ADDS     R1,R4,R1, LSL #+1
   \   000000DA   0xF242 0x0228      MOVW     R2,#+8232
   \   000000DE   0x5E51             LDRSH    R1,[R2, R1]
   \   000000E0   0xEE00 0x1A10      VMOV     S0,R1
   \   000000E4   0xEEB0 0x8A40      VMOV.F32 S16,S0
   \   000000E8   0xEEB8 0x0AC8      VCVT.F32.S32 S0,S16
   \   000000EC   0xEEF7 0x0A00      VMOV.F32 S1,#1.0
   \   000000F0   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   000000F4   0x....             LDR.N    R1,??DataTable11_23
   \   000000F6   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000000F8   0xEB11 0x0180      ADDS     R1,R1,R0, LSL #+2
   \   000000FC   0xED81 0x0A00      VSTR     S0,[R1, #0]
   \   00000100   0x1C40             ADDS     R0,R0,#+1
   \   00000102   0xE7DE             B.N      ??Delay_Sum_FFT_6
   \                     ??Delay_Sum_FFT_7: (+1)
   \   00000104   0x....             LDR.N    R2,??DataTable11_28
   \   00000106   0x....             LDR.N    R1,??DataTable11_23
   \   00000108   0x....             LDR.N    R0,??DataTable11_29
   \   0000010A   0x.... 0x....      BL       arm_rfft_f32
    829                    RFFT_INT(MicData->bufMIC4,S4,DataFFT.bufMIC4);
   \   0000010E   0x2000             MOVS     R0,#+0
   \                     ??Delay_Sum_FFT_8: (+1)
   \   00000110   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000112   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   00000114   0x42B8             CMP      R0,R7
   \   00000116   0xDA1C             BGE.N    ??Delay_Sum_FFT_9
   \   00000118   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   0000011C   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   0000011E   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000120   0xFB07 0x0109      MLA      R1,R7,R9,R0
   \   00000124   0xEB14 0x0141      ADDS     R1,R4,R1, LSL #+1
   \   00000128   0xF243 0x023C      MOVW     R2,#+12348
   \   0000012C   0x5E51             LDRSH    R1,[R2, R1]
   \   0000012E   0xEE00 0x1A10      VMOV     S0,R1
   \   00000132   0xEEB0 0x8A40      VMOV.F32 S16,S0
   \   00000136   0xEEB8 0x0AC8      VCVT.F32.S32 S0,S16
   \   0000013A   0xEEF7 0x0A00      VMOV.F32 S1,#1.0
   \   0000013E   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   00000142   0x....             LDR.N    R1,??DataTable11_23
   \   00000144   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000146   0xEB11 0x0180      ADDS     R1,R1,R0, LSL #+2
   \   0000014A   0xED81 0x0A00      VSTR     S0,[R1, #0]
   \   0000014E   0x1C40             ADDS     R0,R0,#+1
   \   00000150   0xE7DE             B.N      ??Delay_Sum_FFT_8
   \                     ??Delay_Sum_FFT_9: (+1)
   \   00000152   0x....             LDR.N    R2,??DataTable11_30
   \   00000154   0x....             LDR.N    R1,??DataTable11_23
   \   00000156   0x....             LDR.N    R0,??DataTable11_31
   \   00000158   0x.... 0x....      BL       arm_rfft_f32
    830          
    831                    /* Adding in Fourier Domain */			 
    832                    //arm_add_f32((float *)bufferFFT,(float *)bufferFFT_1, (float *)bufferFFTSum,lenFFT*2);
    833                    for (uint16_t ii=0;ii<lenFFT*2;ii++)
   \   0000015C   0x2000             MOVS     R0,#+0
   \                     ??Delay_Sum_FFT_10: (+1)
   \   0000015E   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000160   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   00000162   0xEBB0 0x0F47      CMP      R0,R7, LSL #+1
   \   00000166   0xDA38             BGE.N    ??Delay_Sum_FFT_11
    834                    {
    835                        bufferFFTSum[ii]= ((DataFFT.bufMIC1[ii]*coefMics->facMIC1) + 
    836                                          (DataFFT.bufMIC2[ii]*coefMics->facMIC2) +
    837                                          (DataFFT.bufMIC3[ii]*coefMics->facMIC3) +
    838                                          (DataFFT.bufMIC4[ii]*coefMics->facMIC4)); 
   \   00000168   0x....             LDR.N    R1,??DataTable11_24
   \   0000016A   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   0000016C   0xEB11 0x0180      ADDS     R1,R1,R0, LSL #+2
   \   00000170   0xED91 0x0A00      VLDR     S0,[R1, #0]
   \   00000174   0xEDD5 0x0A00      VLDR     S1,[R5, #0]
   \   00000178   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   0000017C   0x....             LDR.N    R1,??DataTable11_24
   \   0000017E   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000180   0xEB11 0x0180      ADDS     R1,R1,R0, LSL #+2
   \   00000184   0xF501 0x5180      ADD      R1,R1,#+4096
   \   00000188   0x3128             ADDS     R1,R1,#+40
   \   0000018A   0xEDD1 0x0A00      VLDR     S1,[R1, #0]
   \   0000018E   0xED95 0x1A01      VLDR     S2,[R5, #+4]
   \   00000192   0xEE00 0x0A81      VMLA.F32 S0,S1,S2
   \   00000196   0x....             LDR.N    R1,??DataTable11_24
   \   00000198   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   0000019A   0xEB11 0x0180      ADDS     R1,R1,R0, LSL #+2
   \   0000019E   0xF501 0x5100      ADD      R1,R1,#+8192
   \   000001A2   0x3150             ADDS     R1,R1,#+80
   \   000001A4   0xEDD1 0x0A00      VLDR     S1,[R1, #0]
   \   000001A8   0xED95 0x1A02      VLDR     S2,[R5, #+8]
   \   000001AC   0xEE00 0x0A81      VMLA.F32 S0,S1,S2
   \   000001B0   0x....             LDR.N    R1,??DataTable11_24
   \   000001B2   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000001B4   0xEB11 0x0180      ADDS     R1,R1,R0, LSL #+2
   \   000001B8   0xF501 0x5140      ADD      R1,R1,#+12288
   \   000001BC   0x3178             ADDS     R1,R1,#+120
   \   000001BE   0xEDD1 0x0A00      VLDR     S1,[R1, #0]
   \   000001C2   0xED95 0x1A03      VLDR     S2,[R5, #+12]
   \   000001C6   0xEE00 0x0A81      VMLA.F32 S0,S1,S2
   \   000001CA   0x....             LDR.N    R1,??DataTable11_32
   \   000001CC   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000001CE   0xEB11 0x0180      ADDS     R1,R1,R0, LSL #+2
   \   000001D2   0xED81 0x0A00      VSTR     S0,[R1, #0]
    839                    }
   \   000001D6   0x1C40             ADDS     R0,R0,#+1
   \   000001D8   0xE7C1             B.N      ??Delay_Sum_FFT_10
    840          
    841                    /* Revert FFT*/
    842                    arm_rfft_f32(&IS, (float *)bufferFFTSum, (float *)&fbufferOut[iFrm*lenFFT]);
   \                     ??Delay_Sum_FFT_11: (+1)
   \   000001DA   0x....             LDR.N    R0,??DataTable11_33
   \   000001DC   0xFA1F 0xF989      UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   000001E0   0xB23F             SXTH     R7,R7            ;; SignExt  R7,R7,#+16,#+16
   \   000001E2   0xFB07 0xF109      MUL      R1,R7,R9
   \   000001E6   0xEB10 0x0281      ADDS     R2,R0,R1, LSL #+2
   \   000001EA   0x....             LDR.N    R1,??DataTable11_32
   \   000001EC   0x....             LDR.N    R0,??DataTable11_34
   \   000001EE   0x.... 0x....      BL       arm_rfft_f32
    843                    //arm_rfft_fast_f32(&IS, (float *)bufferFFTSum, (float *)&fbufferOut[iFrm*lenFFT], 1);
    844          	}
   \   000001F2   0xF119 0x0901      ADDS     R9,R9,#+1
   \   000001F6   0xE70D             B.N      ??Delay_Sum_FFT_0
    845          
    846                  /*covert from float to integer*/
    847          	for (uint16_t i=0; i<AUDIO_OUT_BUFFER_SIZE;)
   \                     ??Delay_Sum_FFT_1: (+1)
   \   000001F8   0x2000             MOVS     R0,#+0
   \                     ??Delay_Sum_FFT_12: (+1)
   \   000001FA   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000001FC   0xF5B0 0x6F80      CMP      R0,#+1024
   \   00000200   0xDA1D             BGE.N    ??Delay_Sum_FFT_13
    848          	{
    849          	    _value1 = (int32_t)fbufferOut[(i>>1)];
   \   00000202   0x....             LDR.N    R1,??DataTable11_33
   \   00000204   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000206   0x1042             ASRS     R2,R0,#+1
   \   00000208   0xEB11 0x0182      ADDS     R1,R1,R2, LSL #+2
   \   0000020C   0xED91 0x0A00      VLDR     S0,[R1, #0]
   \   00000210   0xEEBD 0x0AC0      VCVT.S32.F32 S0,S0
   \   00000214   0xEEF0 0x8A40      VMOV.F32 S17,S0
    850          		_value2 = MicData->bufMIC2[i>>1];
   \   00000218   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   0000021A   0x1041             ASRS     R1,R0,#+1
   \   0000021C   0xEB14 0x0141      ADDS     R1,R4,R1, LSL #+1
   \   00000220   0xF241 0x0214      MOVW     R2,#+4116
   \   00000224   0x5E51             LDRSH    R1,[R2, R1]
   \   00000226   0x4688             MOV      R8,R1
    851          	    stBufOut[i++] = (int16_t)_value1;
   \   00000228   0xEE18 0x1A90      VMOV     R1,S17
   \   0000022C   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   0000022E   0xF826 0x1010      STRH     R1,[R6, R0, LSL #+1]
   \   00000232   0x1C40             ADDS     R0,R0,#+1
    852          		stBufOut[i++] = (int16_t)_value2;
   \   00000234   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000236   0xF826 0x8010      STRH     R8,[R6, R0, LSL #+1]
   \   0000023A   0x1C40             ADDS     R0,R0,#+1
   \   0000023C   0xE7DD             B.N      ??Delay_Sum_FFT_12
    853          	}
    854          	
    855          	//arm_float_to_q15((float32_t *)fbufferOut,(q15_t *)stBufOut,AUDIO_OUT_BUFFER_SIZE); 
    856          	
    857          }
   \                     ??Delay_Sum_FFT_13: (+1)
   \   0000023E   0xECBD 0x8B02      VPOP     {D8}
   \   00000242   0xE8BD 0x83F1      POP      {R0,R4-R9,PC}    ;; return
    858          /******************************************************************************/
    859          /*                  Factor Update                                             */ 
    860          /******************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    861          void FactorUpd(Mic_Array_Coef_f * facMic)
    862          {
    863          	facMic->facMIC1 = 0.25;
   \                     FactorUpd: (+1)
   \   00000000   0xF05F 0x517A      MOVS     R1,#+1048576000
   \   00000004   0x6001             STR      R1,[R0, #+0]
    864          	facMic->facMIC2 = 0.25;
   \   00000006   0xF05F 0x517A      MOVS     R1,#+1048576000
   \   0000000A   0x6041             STR      R1,[R0, #+4]
    865          	facMic->facMIC3 = 0.25;
   \   0000000C   0xF05F 0x517A      MOVS     R1,#+1048576000
   \   00000010   0x6081             STR      R1,[R0, #+8]
    866          	facMic->facMIC4 = 0.25;
   \   00000012   0xF05F 0x517A      MOVS     R1,#+1048576000
   \   00000016   0x60C1             STR      R1,[R0, #+12]
    867          }
   \   00000018   0x4770             BX       LR               ;; return
    868          
    869          
    870          

   \                                 In section .text, align 2, keep-with-next
    871          void FFT_SUM(int16_t * stBuf1, int16_t * stBuf2,float *fBufOut, uint16_t lenFFT)
    872          {
    873          #if 0 //using self-writing DFT function 
    874             int32_t         value;
    875          
    876             /* covert from int to float */
    877             for(uint16_t j=0;j<lenFFT;j++)
    878             {
    879                value = (int32_t)stBuf1[j];
    880             	  fbuffer[j]=(float)value;
    881             }	
    882             DFT((float *)fbuffer,(float *)bufferFFT,lenFFT);
    883          
    884          	/* covert from int to float */
    885          	for(uint16_t j=0;j<lenFFT;j++)
    886          	{
    887          	   value = (int32_t)stBuf2[j];
    888          	   fbuffer[j]=(float)value;
    889          	}	 
    890          	DFT((float *)fbuffer,(float *)bufferFFT_1,lenFFT);
    891          
    892             /* Adding in Fourier Domain */			 
    893             for(uint16_t i=0;i<lenFFT;i++)
    894             {
    895                  bufferFFTSum[i] = bufferFFT[i]+bufferFFT_1[i];
    896             }
    897          
    898             rDFT(lenFFT,1,bufferFFTSum,fbuffer);
    899          #endif
    900          }
   \                     FFT_SUM: (+1)
   \   00000000   0x4770             BX       LR               ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   0x00000000         DC32     0x0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   0x42C80000         DC32     0x42c80000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_1:
   \   00000000   0x43480000         DC32     0x43480000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_2:
   \   00000000   0xC2C80000         DC32     0xc2c80000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10:
   \   00000000   0x5A7ED197         DC32     0x5a7ed197

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_1:
   \   00000000   0x401921FB         DC32     0x401921fb

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_2:
   \   00000000   0x00000000         DC32     0x0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11:
   \   00000000   0x........         DC32     ??Out_Old

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_1:
   \   00000000   0x........         DC32     ??InOld

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_2:
   \   00000000   0x........         DC32     ??InOld1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_3:
   \   00000000   0x........         DC32     ??Out_Old_1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_4:
   \   00000000   0xFFFFB486         DC32     0xffffb486

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_5:
   \   00000000   0x........         DC32     ??Out_Old1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_6:
   \   00000000   0x........         DC32     ??InOld_1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_7:
   \   00000000   0x........         DC32     ??InOld1_1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_8:
   \   00000000   0x........         DC32     ??Out_Old_2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_9:
   \   00000000   0x........         DC32     ??Out_Old1_1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_10:
   \   00000000   0x........         DC32     ?_0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_11:
   \   00000000   0x........         DC32     ??Data_Old

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_12:
   \   00000000   0x........         DC32     ??Data

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_13:
   \   00000000   0x........         DC32     ??OutRing

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_14:
   \   00000000   0x........         DC32     ??iRing

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_15:
   \   00000000   0x447A0000         DC32     0x447a0000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_16:
   \   00000000   0x404F8000         DC32     0x404f8000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_17:
   \   00000000   0x3FF00000         DC32     0x3ff00000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_18:
   \   00000000   0x3FE00000         DC32     0x3fe00000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_19:
   \   00000000   0x........         DC32     ??Initial_Array

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_20:
   \   00000000   0xFFFF8000         DC32     0xffff8000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_21:
   \   00000000   0x400921FB         DC32     0x400921fb

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_22:
   \   00000000   0x........         DC32     EnergySound

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_23:
   \   00000000   0x........         DC32     fbuffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_24:
   \   00000000   0x........         DC32     DataFFT

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_25:
   \   00000000   0x........         DC32     `S1`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_26:
   \   00000000   0x........         DC32     DataFFT+0x1028

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_27:
   \   00000000   0x........         DC32     `S2`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_28:
   \   00000000   0x........         DC32     DataFFT+0x2050

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_29:
   \   00000000   0x........         DC32     `S3`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_30:
   \   00000000   0x........         DC32     DataFFT+0x3078

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_31:
   \   00000000   0x........         DC32     `S4`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_32:
   \   00000000   0x........         DC32     bufferFFTSum

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_33:
   \   00000000   0x........         DC32     fbufferOut

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable11_34:
   \   00000000   0x........         DC32     IS
    901          
    902          

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   ADD_S16
      28   CrssCor
      32   DFT
        32   -> __aeabi_d2f
        32   -> __aeabi_ddiv
        32   -> __aeabi_dmul
        32   -> __aeabi_f2d
        32   -> arm_cos_f32
        32   -> arm_sin_f32
     544   Decimation
       544   -> __aeabi_memcpy4
      40   Delay_Sum_FFT
        40   -> arm_rfft_f32
       0   FFT_SUM
       0   FactorUpd
      32   LowPass
        32   -> ADD_S16
        32   -> SUB_S16
      16   LowPass2ndOder
      16   LowPass2ndOder_1
      32   LowPassIIR
        32   -> ADD_S16
        32   -> SUB_S16
      12   PCM2PDM
      40   PDM2PCM
        40   -> ADD_S16
       8   Precalculation
       0   SUB_S16
      12   Std_AutoCorr
      16   Std_CrssCor
      12   Std_MatCorr
      32   Window
        32   -> __aeabi_d2f
        32   -> __aeabi_ddiv
        32   -> __aeabi_dmul
        32   -> __aeabi_dsub
        32   -> __aeabi_f2d
        32   -> __aeabi_i2d
        32   -> cos
      20   iirFilter
      64   lowpassFIR
        64   -> __aeabi_d2f
        64   -> __aeabi_ddiv
        64   -> __aeabi_dmul
        64   -> __aeabi_f2d
        64   -> __aeabi_ul2f
        64   -> sin
      48   rDFT
        48   -> __aeabi_d2f
        48   -> __aeabi_ddiv
        48   -> __aeabi_dmul
        48   -> __aeabi_f2d
        48   -> __aeabi_i2d
        48   -> arm_cos_f32
        48   -> arm_sin_f32


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable10
       4  ??DataTable10_1
       4  ??DataTable10_2
       4  ??DataTable11
       4  ??DataTable11_1
       4  ??DataTable11_10
       4  ??DataTable11_11
       4  ??DataTable11_12
       4  ??DataTable11_13
       4  ??DataTable11_14
       4  ??DataTable11_15
       4  ??DataTable11_16
       4  ??DataTable11_17
       4  ??DataTable11_18
       4  ??DataTable11_19
       4  ??DataTable11_2
       4  ??DataTable11_20
       4  ??DataTable11_21
       4  ??DataTable11_22
       4  ??DataTable11_23
       4  ??DataTable11_24
       4  ??DataTable11_25
       4  ??DataTable11_26
       4  ??DataTable11_27
       4  ??DataTable11_28
       4  ??DataTable11_29
       4  ??DataTable11_3
       4  ??DataTable11_30
       4  ??DataTable11_31
       4  ??DataTable11_32
       4  ??DataTable11_33
       4  ??DataTable11_34
       4  ??DataTable11_4
       4  ??DataTable11_5
       4  ??DataTable11_6
       4  ??DataTable11_7
       4  ??DataTable11_8
       4  ??DataTable11_9
       4  ??DataTable2
       4  ??DataTable6
       4  ??DataTable6_1
       4  ??DataTable6_2
     516  ?_0
      92  ADD_S16
     246  CrssCor
     322  DFT
       4  Data
   33088  DataFFT
       4  Data_Old
     458  Decimation
     582  Delay_Sum_FFT
       4  EnergySound
       2  FFT_SUM
      26  FactorUpd
       2  InOld
       2  InOld
       2  InOld1
       2  InOld1
       4  Initial_Array
     100  LowPass
     192  LowPass2ndOder
     192  LowPass2ndOder_1
      92  LowPassIIR
     260  OutRing
       2  Out_Old
       2  Out_Old
       2  Out_Old
       2  Out_Old1
       2  Out_Old1
     184  PCM2PDM
     222  PDM2PCM
     210  Precalculation
      92  SUB_S16
     100  Std_AutoCorr
      96  Std_CrssCor
     116  Std_MatCorr
     128  Window
    4496  bufferFFTSum
    4496  fbuffer
    4496  fbufferOut
       2  iRing
     158  iirFilter
     372  lowpassFIR
     624  rDFT

 
 46 872 bytes in section .bss
    516 bytes in section .rodata
  4 774 bytes in section .text
 
  4 590 bytes of CODE  memory (+ 184 bytes shared)
    516 bytes of CONST memory
 46 872 bytes of DATA  memory

Errors: none
Warnings: 2
